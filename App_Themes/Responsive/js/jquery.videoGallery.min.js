var hap_source_path="",hap_players=[],hap_mediaArr=[],audio=document.createElement("audio"),mp3Support,oggSupport,html5Support=!1;audio.canPlayType&&(html5Support=!0,mp3Support=!!audio.canPlayType&&""!=audio.canPlayType("audio/mpeg"),oggSupport=!!audio.canPlayType&&""!=audio.canPlayType('audio/ogg; codecs="vorbis"')); var isMobile=/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent),isIOS=!1,agent=navigator.userAgent,isAndroid=-1<agent.indexOf("Android"),isiPhoneIpod=-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod"),isiPad=-1<agent.indexOf("iPad");if(-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod")||-1<agent.indexOf("iPad"))isIOS=!0;var mobile_type; if(-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod")||-1<agent.indexOf("iPad"))-1<agent.indexOf("iPhone")?mobile_type="iPhone":-1<agent.indexOf("iPod")?mobile_type="iPod":-1<agent.indexOf("iPad")&&(mobile_type="iPad");var isSafari=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),isChrome=!isSafari&&testCSS("WebkitTransform");isIOS&&navigator.userAgent.match("CriOS")&&(isChrome=!0);var isOpera=!(!window.opera||!window.opera.version); function testCSS(k){return k in document.documentElement.style}var isWindows=!1;-1!==agent.toLowerCase().indexOf("windows")&&(isWindows=!0);var isIE=!1,ieBelow9=!1,ieBelow8=!1,ie_check=getInternetExplorerVersion();-1!=ie_check&&(isIE=!0,9>ie_check&&(ieBelow9=!0),8>ie_check&&(ieBelow8=!0)); function getInternetExplorerVersion(){var k=-1;if("Microsoft Internet Explorer"==navigator.appName){var n=navigator.userAgent,m=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=m.exec(n)&&(k=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(n=navigator.userAgent,m=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=m.exec(n)&&(k=parseFloat(RegExp.$1)));return k}var hasLocalStorage=supports_local_storage(); function supports_local_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(k){return!1}} function inject_facebook_sdk(k){var n,m=$.inArray(window.location.href.split(":")[0],["http","https"])?"https://":"//";if(!window.FB&&k&&!document.body.querySelector("#fb-root"))return n=document.createElement("script"),n.text="window.fbAsyncInit=function(){FB.init({appId:'"+k+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+m+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')", k=document.createElement("div"),k.id="fb-root",document.body.appendChild(k),document.body.appendChild(n)} (function(k){k.fn.videoGallery=function(n,m){function N(){gb.css({display:"block"});var a=0;Pb.find("li").each(function(){a+=k(this).outerHeight(!0)});Pb.height()<ie.offset().top?gb.css({top:-a-2+"px",display:"none"}):gb.css({top:ie.height()+"px",display:"none"});id=!0}function Ga(){hb.css({display:"block"});var a=0;lc.find("li").each(function(){a+=k(this).outerHeight(!0)});lc.height()<je.offset().top?hb.css({top:-a-2+"px",display:"none"}):hb.css({top:je.height()+"px",display:"none"});jd=!0}function S(a){var l= Qb,k=za,p=parseInt(k.css("left"),10),k=k.width(),m=l.width();l.css("left",(k-m-25)/k*(a.pageX-p)+10+"px")}function Ha(){var a,l,k,p,m=!1,r=za,q=Qb;q.unbind("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").bind("touchstart.ap",function(r){if(!u)return!1;if(!Rb)return!0;r=r.originalEvent.touches[0];a=q.position().left;q.position();l=r.pageX;k=r.pageY;p=!1;m=!0}).bind("touchmove.ap",function(n){if(m){n=n.originalEvent.touches[0];var s=a-l+n.pageX,y=r.width();0<s&&(s=0);s<y-q.width()&&(s= y-q.width());q.css("left",s+"px");p=p||5<Math.abs(l-n.pageX)||5<Math.abs(k-n.pageY);return!1}}).bind("touchend.ap",function(a){m=!1}).bind("click.ap-touchclick",function(a){if(p)return p=!1})}function D(){"_blank"==n.contextMenuTarget?(Aa&&Sa(),window.open(n.contextMenuLink)):window.location=n.contextMenuLink}function zb(a){if(k(a.target).hasClass("embed_code"))return!0;a.preventDefault();a.stopPropagation();Ab.css({left:a.pageX+"px",top:a.pageY+"px",display:"block"});Sb.one("click.apvideo",Ia)}function Ia(){Sb.unbind("click.apvideo", Ia);Ab.css("display","none")}function kd(a){if(!u||x||Ic)return!1;if(!Tb){if(Ta){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Tb=!0;va.bind(mc,function(a){a:{var k;if(Ta){if(a.originalEvent.touches&&a.originalEvent.touches.length)k=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)k=a.originalEvent.changedTouches;else break a;if(1<k.length)break a;k=k[0]}else k=a;a.preventDefault();nf(k.pageX)}});va.bind(Bb,function(a){a:if(Tb){Tb= !1;va.unbind(mc).unbind(Bb);var k;if(Ta){if(a.originalEvent.touches&&a.originalEvent.touches.length)k=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)k=a.originalEvent.changedTouches;else break a;if(1<k.length)break a;k=k[0]}else k=a;a.preventDefault();nf(k.pageX)}})}return!1}function nf(a){var l;l=a-ke.offset().left;0>l?l=0:l>wa&&(l=wa);a=Math.max(0,Math.min(1,l/wa));if("local"==F)if(Jc.css("width",l+"px"),O){if(aa){a*=z.duration;a=a.toFixed(1); try{z.currentTime=a}catch(k){}}}else"undefined"!==typeof E(K)&&E(K).pb_seek(a);else"youtube"==F&&(O?A&&(a*=A.getDuration(),a=a.toFixed(1),A.seek(a)):"undefined"!==typeof E(K)&&E(K).pb_seek(a))}function Gg(){if(!aa||pa&&nc)return!1;ib&&Kc.css("display","block").tooltipster("show");Ub.bind("mousemove",of).bind("mouseout",ld);va.bind("mouseout",ld)}function ld(){if(!aa)return!1;ib&&Kc.css("display","none").tooltipster("hide");Ub.unbind("mousemove",of).unbind("mouseout",ld);va.unbind("mouseout",ld)}function of(a){var l= a.pageX-ke.offset().left;0>l?l=0:l>wa&&(l=wa);a=parseInt(a.pageX-Ub.offset().left-Kc.width()/2,10);Kc.css("left",a+"px");var l=Math.max(0,Math.min(1,l/wa)),k,p;if("local"==F)if(O)k=l*z.duration,p=z.duration;else if("undefined"!==typeof E(K))p=E(K).pb_getFlashDuration(),k=l*p;else return;else if("youtube"==F)if(O)k=l*A.getDuration(),p=A.getDuration();else if("undefined"!==typeof E(K))p=E(K).pb_getFlashDuration(),k=l*p;else return;ib&&Kc.tooltipster("content",md(k)+" | "+nd(p))}function od(){ea&&clearTimeout(ea); Ua.css("display","none");Lc=!1}function Hg(a){if(!u||x||Tb)return!1;if(!Ic){if(Ta){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Ic=!0;va.bind(mc,function(a){a:{var k;if(Ta){if(a.originalEvent.touches&&a.originalEvent.touches.length)k=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)k=a.originalEvent.changedTouches;else break a;if(1<k.length)break a;k=k[0]}else k=a;a.preventDefault();pf(k.pageY)}}).bind(Bb,function(a){a:if(Ic){Ic= !1;va.unbind(mc).unbind(Bb);var k;if(Ta){if(a.originalEvent.touches&&a.originalEvent.touches.length)k=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)k=a.originalEvent.changedTouches;else break a;if(1<k.length)break a;k=k[0]}else k=a;a.preventDefault();pf(k.pageY)}})}return!1}function pf(a){M=Math.max(0,Math.min(1,(a-le.offset().top)/oc));M=1-M;Mc()}function me(){if(!u||x)return!1;0<M?(pd=M,M=0):M=pd}function Mc(){qf.css("height",M*oc+"px");O? "local"==F?z&&(z.volume=M):A&&A.setVolume(M):"undefined"!==typeof E(K)&&E(K).pb_setVolume(M);0==M?(t.find(".player_volume").find("i").removeClass("fa-volume-up ap_vol_on ap_vol").addClass("fa-volume-off ap_mute"),Cb&&rf.find("span").html("UnMute")):0<M&&(t.find(".player_volume").find("i").removeClass("fa-volume-off ap_mute_on ap_mute").addClass("fa-volume-up ap_vol"),Cb&&rf.find("span").html("Mute"));isMobile&&qd&&(ea&&clearTimeout(ea),ea=setTimeout(od,rd))}function ne(){qd&&ea&&clearTimeout(ea); ib&&Db.css("display","block").tooltipster("show");Ua.bind("mousemove",sf).bind("mouseout",sd);va.bind("mouseout",sd)}function sd(){qd&&(ea&&clearTimeout(ea),ea=setTimeout(od,rd));ib&&Db.css("display","none").tooltipster("hide");Ua.unbind("mousemove",sf).unbind("mouseout",sd);va.unbind("mouseout",sd)}function sf(a){a=a.pageY-le.offset().top;0>a?a=0:a>oc&&(a=oc);var l=parseInt(a-Db.height()/2+Ig,10);Db.css("top",l+"px");a=Math.max(0,Math.min(1,a/oc));a=parseInt(100*(1-a),10);ib&&Db.tooltipster("content", a+" %")}function Jg(){var a,l,k,p,m,r=!1;L.unbind("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").bind("touchstart.ap",function(q){if(!u||x)return!1;if(!Rb)return!0;q=q.originalEvent.touches[0];a=L.position().left;l=L.position().top;k=q.pageX;p=q.pageY;m=!1;r=!0}).bind("touchmove.ap",function(q){if(r){q=q.originalEvent.touches[0];if("horizontal"==fa){var n=a-k+q.pageX,s=G.width();0<n?(n=0,la("off")):la("on");n<s-I?(n=s-I,qa("off")):qa("on");L.css("left",n+"px")}else n=l-p+q.pageY,s= G.height(),0<n?(n=0,la("off")):la("on"),n<s-I?(n=s-I,qa("off")):qa("on"),L.css("top",n+"px");m=m||5<Math.abs(k-q.pageX)||5<Math.abs(p-q.pageY);return!1}}).bind("touchend.ap",function(a){r=!1}).bind("click.ap-touchclick",function(a){if(m)return m=!1})}function la(a){"on"==a?Vb&&Vb.css("display","block"):Vb&&Vb.css("display","none")}function qa(a){"on"==a?Wb&&Wb.css("display","block"):Wb&&Wb.css("display","none")}function oe(){if("horizontal"==fa){var a=G.width(),l;I>a?(la("on"),qa("on"),Rb=!0,l=parseInt(L.css("left"), 10),l<a-I?(ba&&clearInterval(ba),l=a-I):0<l&&(l=0),L.css("left",l+"px"),0<=parseInt(L.css("left"),10)&&la("off")):(la("off"),qa("off"),Rb=!1)}else a=G.height(),I>a?(la("on"),qa("on"),Rb=!0,l=parseInt(L.css("top"),10),l<a-I?(ba&&clearInterval(ba),l=a-I):0<l&&(l=0),L.css("top",l+"px"),0<=parseInt(L.css("top"),10)&&la("off")):(la("off"),qa("off"),Rb=!1)}function pe(){"scroll"==jb?"list"==v&&(pc?"block"==ga.css("display")&&(qc.reinitialise(),"vertical"==fa?(qc.scrollToY(0),k(".jspPane").css("top","0px")): (qc.scrollToX(0),k(".jspPane").css("left","0px"))):(pc=Xb,pc.bind("jsp-initialised",function(a,l){}),"horizontal"==fa?(pc.jScrollPane({horizontalDragMinWidth:100,horizontalDragMaxWidth:100}),isMobile||Xb.bind("mousewheel",Kg)):pc.jScrollPane({verticalDragMinHeight:100,verticalDragMaxHeight:100,mouseWheelSpeed:30,contentWidth:"0px"}),qc=pc.data("jsp"))):"buttons"==jb&&(Vb=t.find(".thumbBackward").css({cursor:"pointer",display:"none"}).bind(rc,function(){if(!u||x)return!1;ba&&clearInterval(ba);ba=setInterval(function(){var a; "horizontal"==fa?(a=parseInt(L.css("left"),10),a+=sc,0<a?(ba&&clearInterval(ba),a=0,la("off")):la("on"),L.css("left",a+"px")):(a=parseInt(L.css("top"),10),a+=sc,0<a?(ba&&clearInterval(ba),a=0,la("off")):la("on"),L.css("top",a+"px"));qa("on")},100);return!1}).bind(Bb,function(){ba&&clearInterval(ba);return!1}),Wb=t.find(".thumbForward").css({cursor:"pointer",display:"none"}).bind(rc,function(){if(!u||x)return!1;ba&&clearInterval(ba);ba=setInterval(function(){var a;"horizontal"==fa?(a=parseInt(L.css("left"), 10),w=G.width(),a-=sc,a<w-I?(ba&&clearInterval(ba),a=w-I,qa("off")):qa("on"),L.css("left",a+"px")):(a=parseInt(L.css("top"),10),h=G.height(),a-=sc,a<h-I?(ba&&clearInterval(ba),a=h-I,qa("off")):qa("on"),L.css("top",a+"px"));la("on")},100);return!1}).bind(Bb,function(){ba&&clearInterval(ba);return!1}),oe(),isMobile||Xb.bind("mousewheel",function(a,l,k,p){if(!u||x)return!1;a=0<l?1:-1;k="vertical"==fa?G.height():G.width();if("horizontal"==fa){if(I<k)return!1;l=parseInt(L.css("left"),10);l+=sc*a;0<l?l= 0:l<k-I&&(l=k-I);L.css("left",l+"px")}else{if(I<k)return!1;l=parseInt(L.css("top"),10);l+=sc*a;0<l?l=0:l<k-I&&(l=k-I);L.css("top",l+"px")}0==l?(la("off"),qa("on")):l<=k-I?(qa("off"),la("on")):(la("on"),qa("on"),Rb=!0);return!1}))}function Kg(a,l,k,p){if(!u||x)return!1;qc&&qc.scrollByX(100*(0<l?-1:1));return!1}function Lg(){x||(Nc&&clearInterval(Nc),kb&&clearTimeout(kb),td(qe))}function Mg(){kb&&clearTimeout(kb);td(qe)}function re(a){var l=a.length,k="",p=0,m,r;for(p;p<l;p++)if(m=a.charAt(p).toLowerCase(), "\\"==m&&(m="/"),r=m.charCodeAt(0),97<=r&&122>=r||48<=r&&57>=r||0<="_-".indexOf(m))k+=m;return k}function td(a){a.stopPropagation();se||(se=!0);if("/"==a.value&&(Eb=!0,k.address.history(!1),!R(lb))){k.address.value(lb);k.address.history()||k.address.history(!0);return}Va=a.value;"/"==Va.charAt(0)&&(Va=Va.substring(1));"/"==Va.charAt(Va.length-1)&&(Va=Va.substring(0,Va.length-1));a=Va;var l;0<a.indexOf("/")?(ud=!0,vd=l=a.substr(0,a.indexOf("/")),tc=a.substr(a.indexOf("/")+1)):(vd=a,ud=!1,tc=null,l= a);a=re(l);l=!1;var ca=0,p=ha.length;for(ca;ca<p;ca++)if(ha[ca].categoryName==a){ra=ca;sa=ha[ca].id;l=!0;break}if(!l)return-1==k.inArray(a,tf)&&alert("404 page not found, check your deeplinks first level!"),k.address.history(!1),!1;Eb=!1;void 0==wd||wd!=ra?Yb():tc?uf(tc)?B.getCounter()!=uc?(Eb=!0,-1!=B.getCounter()&&Wa(),B.setCounter(uc,!1)):(te(),vc()):(alert("404 page not found, check your deeplinks second level!"),k.address.history(!1)):vf()}function uf(a){var l=!1,k=0,p=ha[ra].mediaName,m=p.length; for(k;k<m;k++)if(p[k]==a){uc=k;l=!0;break}return l?!0:!1}function wf(a){var l=0,k=ha[ra].mediaName,p=k.length,m=-1;for(l;l<p;l++)if(k[l]==a){m=l;break}return m}function Ng(a){return ha[ra].categoryName+"/"+ha[ra].mediaName[a]}function xf(a){if(U)if(void 0!=a)if("string"===typeof a)if(0<a.indexOf("/")){"/"==a.charAt(0)&&(a=a.substring(1));"/"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=a.substring(a.lastIndexOf("/")+1);if(-1==wf(a))return alert("Invalid value for getDescription Deeplink! Wrong deeplink!"), !1;a=wf(a)}else return alert("Invalid value for getDescription Deeplink! Two level deeplink needed!"),!1;else return alert("Invalid value for getDescription Deeplink! String needed!"),!1;else{if(-1==B.getCounter())return alert("No active Item for description, counter = -1"),!1;a=B.getCounter()}else if(void 0!=a)if("number"===typeof a)a>J-1?a=J-1:0>a&&(a=0);else return alert("Invalid value getDescription no Deeplink! Number needed!"),!1;else{if(-1==B.getCounter())return alert("No active Item for description, counter = -1"), !1;a=B.getCounter()}return a}function Xa(){Ya=Fb=!1;Fa.css("display","none");x=!1}function wc(){Ya=!1;if(!u&&(u=!0,ue(),"list"==v&&(yf?V.bind("mouseenter",Og).bind("mouseleave",Pg):mb()),W&&!Oc&&(ga.bind("mouseleave",Qg),Sb.on("mouseleave",X)),"undefined"!==typeof videoPlayerSetupDone&&setTimeout(function(){clearTimeout(this);videoPlayerSetupDone(Q,T)},50),ve)){var a=ve.find("option[value='"+sa+"']").text();isMobile?k(n.dropdown_id).find('.lp_playlist option[value="'+sa+'"]').prop("selected",!0): k(n.dropdown_id).find(".sbSelector").text(a)}if(!we&&(we=!0,"list"==v&&!Ya&&0<J)){if(U){if(ud){if(!uf(tc)){alert("404 page not found, check your deeplinks second level!");k.address.history(!1);return}Eb=!0;B.setCounter(uc,!1)}}else a=n.activeItem,a>J-1&&(a=J-1),-1<a&&B.setCounter(a,!1);xe()}if("wall"==v||"wall_popup"==v)va.on("click","a[data-apNumToReturn]",function(){if(void 0!=k(this).attr("data-apNumToReturn")){var a=parseInt(k(this).attr("data-apNumToReturn"),10);"undefined"!==typeof videoPlayerItemTriggered&& videoPlayerItemTriggered(Q,T,a);W&&X()}});ib&&t.find(".tooltip").tooltipster({onlyOne:!0,updateAnimation:!1,offsetY:3,speed:0})}function nb(a){da++;da>J-1?zf?(zf=!1,Fa.css("display","none"),wc()):Rg():xd()}function xd(){var a=Y[da].type;if(/local/.test(a))Ma.push(Y[da]),nb();else if(/folder/.test(a))Sg();else if(/xml/.test(a))Tg();else if(/database/.test(a))Ug();else if(/youtube/.test(a)){var a=Y[da],l=a.type;U&&(Pc=a.fromapi?-1!=k.inArray(l,Af)?l.replace(/\./g,"_")+parseInt(99999999*Math.random(), 10):"youtube_single"==l?l.replace(/\./g,"_")+parseInt(99999999*Math.random(),10):a.deeplink:a.deeplink);"youtube_single"==l?Vg(a):-1!=k.inArray(l,Af)?(Ba=0,xa=1,ob=ye(a.limit)?a.limit:1E3,ob>Bf&&(ob=Bf),ze()):(alert("Invalid data-type in playlist!"),Xa())}else/vimeo/.test(a)}function Yb(){x=!0;Fa.css("display","block");if(!Cf)if(Cf=!0,pb=k("<div/>").addClass("yt_overlay_blocker").css({cursor:"pointer",opacity:0,left:"-10000px"}).bind("click",function(){a:if(u&&!x){var a=Df;if("list"==v){if(a==B.getCounter())break a; W&&X();Wa();B.processPlaylistRequest(a)}else"wall_popup"!=v||m||"undefined"===typeof open_popup||(n.activeItem=a,open_popup(n,parseInt(a,10)));W&&X();"undefined"!==typeof videoPlayerItemTriggered&&videoPlayerItemTriggered(Q,T,a)}return!1}).bind("mouseleave",Zb).appendTo(G),O)"list"==v&&ia.css("display","block");else{ia.remove();Wg();return}Z&&yd();Qc=!1;if(!Ef){Ef=!0;var a=k("<div/>").addClass("playlistNonSelected").css("opacity",0).appendTo(ga);Ff=parseInt(a.css("marginBottom"),10);Gf=parseInt(a.css("marginRight"), 10);zd=a.width();Ad=a.height();a.remove();a=null;a=k("<div/>").addClass("playlistThumb").css("opacity",0).appendTo(ga);xc=a.width();Gb=a.height();thumbLeft=parseInt(a.css("left"),10);thumbTop=parseInt(a.css("top"),10);a.remove();a=null}wd=ra;da=0;Ma=[];Y=[];var l,ca,a=k(yc.find("div[id="+sa+"]"));if(0==a.length)return alert("Failed playlist selection! No playlist with id: "+sa),Xa(),!1;Z=a;Hf=sa;a.children("div[class*=playlistNonSelected]").each(function(){ca=k(this);l=Ae(ca);Y.push(l)});J=Y.length; xd()}function Sg(){var a=k(Y[da].item),l=a.attr("data-path"),ca=hap_source_path+"includes/folder_parser.php",l="wall"==v||"wall_popup"==v?l+Xg:l+Rc,l=l.replace(/\/\//g,"/"),l={dir:"../"+l,sub_dirs:!1};U&&(Pc=a.attr("data-address"),Ba=0);k.ajax({type:"GET",url:ca,data:l,dataType:"json"}).done(function(a){Yg(a,"path");var l=0,ca=a.length,q,m;for(l;l<ca;l++)q=a[l],m={type:"local",origtype:"folder"},q=q.path,q=q.substr(3),/.mp4/.test(q)&&(m.mp4=q,m.ogv=q.substr(0,q.lastIndexOf("."))+".ogv",m.webm=q.substr(0, q.lastIndexOf("."))+".webm",m.thumbnail=q.substr(0,q.lastIndexOf("."))+".jpg",q=q.substr(0,q.lastIndexOf(".")),q=q.indexOf("/")?q.substr(q.lastIndexOf("/")+1):q,m.title=q.split("_").join(" "),m.item=Y[da].item.clone(),U&&(m.deeplink=Pc+(Ba+1).toString(),m.item.attr({"data-address":m.deeplink}),Ba++),m.item.attr({"data-type":"local","data-mp4":m.mp4,"data-ogv":m.ogv,"data-webm":m.webm,"data-preview":m.thumbnail}),k('<div class="playlistThumb"><img class="thumb" src="'+m.thumbnail+'" alt="'+m.title+ '"/></div>').appendTo(m.item),k('<div class="playlistInfo"><p><span class="playlistTitle">'+m.title+"</span></p></div>").appendTo(m.item),Ma.push(m));nb()}).fail(function(a,l,k){alert("There was an error processing folder: "+a.responseText);Xa()})}function Tg(){var a=Y[da],l=0,ca=da;Y.splice(ca,1);k.ajax({type:"GET",url:a.path,dataType:"html",cache:!1}).done(function(a){var m,r;k(a).children("div[class*=playlistNonSelected]").each(function(){m=k(this);r=Ae(m);Y.splice(ca,0,r);ca++;l++});J+=l-1;da-= 1;nb()}).fail(function(a,l,k){alert("There was an error processing xml: "+a.responseText);Xa()})}function Ug(){var a=k(Y[da].item),l=hap_source_path+"includes/database.php",ca=!1;void 0!=a.attr("data-raw")&&(ca=!0);var p=0,m=da;Y.splice(m,1);a={db_name:a.attr("data-path"),db_table:a.attr("data-table"),raw:ca};k.ajax({type:"POST",url:l,data:a}).done(function(a){if(-1<a.indexOf("Database information missing!")||-1<a.indexOf("Db connection failed")||-1<a.indexOf("Db selection failed")||-1<a.indexOf("Db query failed"))alert("There was an error processing database!"), Xa();var l=0;a=k.parseJSON(a);var n=a.length,s,y;for(l;l<n;l++)s=a[l],y={},y.type=y.origtype=s.type,ca?(y.item=k(s.mp4),"local"!=y.type&&(y.path=y.id=y.item.attr("data-path"),void 0!=y.item.attr("data-limit")?y.limit=parseInt(y.item.attr("data-limit"),10):y.limit=1E3,void 0!=y.item.attr("data-sort")&&(y.sort=y.item.attr("data-sort")),U&&(y.deeplink=y.item.attr("data-address")))):("local"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-mp4="'+ s.mp4+'" data-ogv="'+s.ogv+'" data-webm="'+s.webm+'" data-preview="'+s.preview+'" data-description="'+s.description+'"><div class="playlistThumb"><img class="thumb" src="'+s.thumb+'" alt="thumb"/></div><div class="playlistInfo"><p><span class="playlistTitle">'+s.playlistTitle+'</span><br><span class="playlistContent">'+s.playlistContent+"</span></p></div></div>"):"folder"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-path="'+s.mp4+'"></div>'): "youtube_single"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-path="'+s.mp4+'"></div>'):"youtube_playlist"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-path="'+s.mp4+'" data-limit="'+s.limits+'" data-sort="'+s.sort+'"></div>'):"youtube_user_favourites"==y.type||"youtube_user_uploads"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+ s.type+'" data-path="'+s.mp4+'" data-limit="'+s.limits+'"></div>'):"youtube_video_query"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-path="'+s.query+'" data-limit="'+s.limits+'" data-sort="'+s.sort+'"></div>'):"youtube_related_video_query"==y.type?y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-path="'+s.mp4+'" data-limit="'+s.limits+'" data-sort="'+s.sort+'"></div>'):"youtube_standard_feed"== y.type&&(y.item=k('<div class="playlistNonSelected" data-address="'+s.deeplink+'" data-type="'+s.type+'" data-path="'+s.mp4+'" data-limit="'+s.limits+'"></div>')),"local"!=y.type&&(y.path=y.id=s.mp4,void 0!=s.limits&&ye(s.limits)?y.limit=parseInt(s.limits,10):y.limit=1E3,void 0==s.sort||R(s.sort)||(y.sort=s.sort),U&&(y.deeplink=s.deeplink))),Y.splice(m,0,y),m++,p++;J+=p-1;da-=1;nb()}).fail(function(a,l,k){alert("There was an error processing database!");Xa()})}function ze(){var a=Y[da],l=a.type,k= a.id;"youtube_playlist"==l?a.path="http://gdata.youtube.com/feeds/api/playlists/"+k+"?start-index="+xa+"&max-results="+Za+"&orderby="+a.sort+"&v=2&format=5&alt=jsonc":"youtube_user_favourites"==l?a.path="http://gdata.youtube.com/feeds/api/users/"+k+"/favorites?start-index="+xa+"&max-results="+Za+"&v=2&format=5&alt=jsonc":"youtube_user_uploads"==l?a.path="http://gdata.youtube.com/feeds/api/users/"+k+"/uploads?start-index="+xa+"&max-results="+Za+"&v=2&format=5&alt=jsonc":"youtube_video_query"==l?(Fb|| (a.query=a.path),a.path="http://gdata.youtube.com/feeds/api/videos?q="+a.query+"&start-index="+xa+"&max-results="+Za+"&orderby="+a.sort+"&v=2&format=5&alt=jsonc"):"youtube_related_video_query"==l?a.path="http://gdata.youtube.com/feeds/api/videos/"+k+"/related?&start-index="+xa+"&max-results="+Za+"&orderby="+a.sort+"&v=2&format=5&alt=jsonc":"youtube_user_playlists"==l?a.path="http://gdata.youtube.com/feeds/api/users/"+k+"/playlists?start-index="+xa+"&max-results="+Za+"&v=2&format=5&alt=jsonc":"youtube_playlist_query"== l?a.path="https://gdata.youtube.com/feeds/api/playlists/snippets?q="+a.query+"&start-index="+xa+"&max-results="+Za+"&v=2&format=5&alt=jsonc":"youtube_channel_query"==l?a.path="http://gdata.youtube.com/feeds/api/channels?q="+a.query+"&start-index="+xa+"&max-results="+Za+"&v=2&format=5":"youtube_standard_feed"==l&&(a.path="http://gdata.youtube.com/feeds/api/standardfeeds/"+k+"?v=2&format=5&alt=jsonc");Zg(a)}function Vg(a){k.ajax({url:"http://gdata.youtube.com/feeds/api/videos/"+a.path+"?v=2&format=5&alt=jsonc", dataType:"jsonp"}).done(function(a){var k={};(a=a.data)&&a.accessControl&&(k.type="youtube",k.origtype="youtube_single",U&&(k.deeplink=Pc),k.path=k.id=a.id,k.title=a.title?a.title:"",k.description=a.description?a.description:"",a.thumbnail&&(k.thumbnail=a.thumbnail.hqDefault?a.thumbnail.hqDefault:a.thumbnail.sqDefault),k.item=Y[da].item,Ma.push(k));nb()}).fail(function(a,k,p){alert("There was an error retrieveing youtube data: "+a.responseText);Xa()})}function Zg(a){var l=a.path;qb=a.type;k.ajax({url:l, dataType:"jsonp"}).done(function(a){if(a.error)alert("There was an error retrieveing youtube data: "+a.error.message),"youtube_user_favourites"==n&&"Not allowed."==a.error.message&&alert("This user favourites are set to private!"),Xa();else if("youtube_channel_query"==qb)if(k(a).find("entry").length){var l=[],m=0,r,q,n="youtube_user_uploads";k(a).find("entry").each(function(){q=l[m];r={};r.path=r.id=k(this).children("yt\\:channelId").text();r.title=k(this).children("title").text();r.description=k(this).children("summary").text(); r.author=k(this).children("author").text();r.thumbnail={hqDefault:k(this).children("media\\:thumbnail").attr("url")};r.created="";l.push(r)});var s=l.length;s+Ba>ob&&(s=ob-Ba);0<s&&(ap_api_results.show(),Be.show(),ap_api_execute.show());for(m;m<s;m++)q=l[m],buildBox(n,q,Ba),Ba++;updateApiResScroll();xa+=Za;xa<=ob?ze():nb()}else alert("Youtube channel response is empty!"),nb();else if(a.data.items){s=a.data.items.length;m=0;s+Ba>ob&&(s=ob-Ba);if("youtube_playlist_query"==qb||"youtube_user_playlists"== qb){0<s&&(ap_api_results.show(),Be.show(),ap_api_execute.show());for(m;m<s;m++)q=a.data.items[m],buildBox("youtube_playlist",q,Ba),Ba++;updateApiResScroll()}else for(m;m<s;m++)(q="youtube_user_uploads"==qb||"youtube_video_query"==qb||"youtube_related_video_query"==qb||"youtube_standard_feed"==qb?a.data.items[m]:a.data.items[m].video)&&q.accessControl&&(r={},U&&(r.deeplink=Pc+(Ba+1).toString()),r.type="youtube",r.origtype=qb,r.path=r.id=q.id,r.title=q.title?q.title:"",r.description=q.description?q.description: "",q.thumbnail&&(r.thumbnail=q.thumbnail.hqDefault?q.thumbnail.hqDefault:q.thumbnail.sqDefault),r.item=Y[da].item,Ma.push(r),Ba++);xa+=Za;xa<=ob?ze():nb()}else 0==Ma.length&&alert("Youtube response contains no results!"),nb()}).fail(function(a,k,l){alert("There was an error retrieveing youtube data: "+a.responseText);Xa()})}function Rg(){var a=0,l=Ya?ya:H.length,m=Ma.length,p,u,r,q,t,s,y,x,D,N,z,A,E,F=-1E4,K=0;if(U){if(!ra&&0!==ra){var I={};p="ap_playlist"+If;tf.push(p);If++;I.categoryName=I.id=p; I.fromapi=!0;ha.push(I);wd=ra=ha.length-1;vd=p;k.address.value(p)}ha[ra].mediaName?I=ha[ra].mediaName:(I=[],ha[ra].mediaName=I);p=k.address.strict()?"#/":"#";var P=Ce+p+vd+"/"}for(a;a<m;a++){p=Ma[a];u=p.type;var C=a+l;Ya&&K++;y=title="";E=null;t="";if("local"==u){p=k(p.item);Oc||(Ya?Hb?p.appendTo(Z):(Ib?Ib.after(p):Hb?p.appendTo(Z):Z.children().eq(ya).before(p),Ib=p):p.appendTo(zc));U&&(r=re(p.attr("data-address")),I.splice(C,0,r));title=p.find("span[class='playlistTitle']").html();void 0==p.attr("data-description")|| R(p.attr("data-description"))||(y=p.attr("data-description"));r=p.attr("data-mp4");rb?D=p.attr("data-webm"):x=p.attr("data-ogv");void 0!=p.attr("data-download")&&(E=R(p.attr("data-download"))||"true"==p.attr("data-download")?r:p.attr("data-download"));var L=p.attr("class").replace("playlistNonSelected","");p.find("div[class='playlistThumb']").length&&(q=p.find("div[class='playlistThumb']"),Jb.splice(C,0,q),q=p.find("img[class='thumb']"),void 0!=q.attr("src")&&(t=q.attr("src")),$b.splice(C,0,q),q.stop().animate({opacity:1}, {duration:500,easing:"easeOutSine"}));s=k("<div/>").addClass("hitdiv").css({cursor:"pointer"}).attr("dataTitle","hitdiv");if("list"==v)s.appendTo(p),ta.splice(C,0,s),p.bind("click",ac).attr("data-id",a+l);else if("wall"==v){N=z=A=null;void 0!=p.attr("data-link")&&(N=p.attr("data-link"));void 0!=p.attr("data-hook")&&(z=p.attr("data-hook"));void 0!=p.attr("data-weblink")&&(A=p.attr("data-weblink"));q=p.find("img[class='thumb']").length?p.find("img[class='thumb']").attr("src"):"";var M="_blank";void 0== p.attr("data-target")||R(p.attr("data-target"))||(M=p.attr("data-target"));"clear"==n.wallType?z&&N?(Sc=!0,O?(s=k('<a class="fancybox hitdiv" href="'+N+'" data-fancybox-group="'+z+'" title="'+title+'" data-apNumToReturn="'+C+'"/>').css({background:"#111",opacity:0}).appendTo(p),k('<img src="'+q+'" alt="'+y+'"/>').css("display","none").appendTo(s),na.splice(C,0,""),ta.splice(C,0,"")):(s=k('<a class="fancybox hitdiv" href="'+N+'" data-fancybox-group="'+z+'" title="'+title+'" data-apNumToReturn="'+C+ '"/>').css({opacity:0,left:F+"px"}).appendTo(G),k('<img src="'+q+'" alt="'+y+'"/>').addClass("thumb_yt").css("display","none").appendTo(s),isMobile||s.bind("mouseleave",Zb).attr("data-id",C),na.splice(C,0,s),ta.splice(C,0,s)),R(L)||s.addClass(L)):A?O?(s=k('<a class="hitdiv" href="'+A+'" target="'+M+'" data-apNumToReturn="'+C+'"/>').appendTo(p),na.splice(C,0,""),ta.splice(C,0,"")):(s=k('<a class="hitdiv" href="'+A+'" target="'+M+'" data-apNumToReturn="'+C+'"/>').css({opacity:0,left:F+"px"}).appendTo(G), isMobile||s.bind("mouseleave",Zb).attr("data-id",C),na.splice(C,0,s),ta.splice(C,0,s)):(s.appendTo(p),p.bind("click",ac).data("no_action","true").attr("data-id",C),na.splice(C,0,""),ta.splice(C,0,s)):Jf(p,C,title,y,z,N,M,A,q,L)}else"wall_popup"==v&&(s.appendTo(p),ta.splice(C,0,s),p.bind("click",ac).data("no_action","true").attr("data-id",C));isMobile||p.bind("mouseenter",Kf).bind("mouseleave",Zb).attr("data-id",C);W&&Lf(C);H.splice(C,0,{id:C,type:u,title:title,description:y,thumb:$g(t),mp4:r,ogv:x, webm:D,deeplink:U?P+p.attr("data-address"):Ce,download:E,item:p})}else{U&&(r=re(p.deeplink),I.splice(C,0,r));r=k("<div/>").addClass("playlistNonSelected").attr({"data-id":C,"data-type":p.type,"data-mp4":p.id});Oc||(Ya?(Ib?Ib.after(r):Hb?r.appendTo(Z):Z.children().eq(ya).before(r),Ib=r):r.appendTo(zc));U&&r.attr("data-address",p.deeplink);if(ah)q=k("<div/>").addClass("playlistThumb").appendTo(r),Jb.splice(C,0,q),p.thumbnail?(q=k(new Image).css("opacity",0).attr("data-id",C).load(function(){k(this).addClass("thumb_yt").stop().animate({opacity:1}, {duration:500,easing:"easeOutSine"})}).error(function(a){}).attr({src:p.thumbnail}).appendTo(q),$b.splice(C,0,q),t=p.thumbnail):$b.splice(C,0,"");else if(q=p.item.find("div[class='playlistThumb']").clone().appendTo(r))Jb.splice(C,0,q),q=q.find("img[class='thumb']"),void 0!=q.attr("src")&&(t=q.attr("src")),q&&(q.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),$b.splice(C,0,q));Mf&&(title=p.title?p.title:"",y=p.description?p.description:"",y=y.replace(/["']/g,""));Mf?(k('<div class="playlistInfo"><p><span class="playlistTitle">'+ title+'</span><br><span class="playlistContent">'+y+"</span></p></div>").appendTo(r),r.attr("data-description",y)):(p.item.find("span[class='playlistTitle']").length&&(title=p.item.find("span[class='playlistTitle']").html()),p.item.find("div[class='playlistInfo']").length&&p.item.find("div[class='playlistInfo']").clone().appendTo(r),void 0==p.item.attr("data-description")||R(p.item.attr("data-description"))||(y=p.item.attr("data-description")));p.item||(p.item=r);void 0==p.item.attr("data-download")|| R(p.item.attr("data-download"))||(E=p.item.attr("data-download"),r.attr("data-download",E));L=p.item.attr("class").replace("playlistNonSelected","");M="_blank";p.target&&(M=p.target);q=p.thumbnail?p.thumbnail:"";s=k("<div/>").addClass("hitdiv").css({cursor:"pointer"}).attr("dataTitle","hitdiv");if("list"==v)s.appendTo(r),ta.splice(C,0,s),r.bind("click",ac).attr("data-id",C);else if("wall"==v)if(N=z=A=null,Fb&&De?(z="fancybox-"+De.replace(/\s+/g,""),N="http://www.youtube.com/watch?v="+p.id):(void 0!= p.item.attr("data-link")&&(N=p.item.attr("data-link")),void 0!=p.item.attr("data-hook")&&(z=p.item.attr("data-hook")),void 0!=p.item.attr("data-weblink")&&(A=p.item.attr("data-weblink"))),"youtube_playlist"==u&&z&&(N="id"),"clear"==n.wallType){var S=G;W||(S=r,F=0);z&&N?(Sc=!0,"youtube_playlist"==u&&(N="http://www.youtube.com/watch?v="+p.id),s=k('<a class="fancybox hitdiv" href="'+N+'" data-fancybox-group="'+z+'" title="'+title+'" data-apNumToReturn="'+C+'"/>').css({opacity:.5,left:F+"px"}).appendTo(S), k('<img src="'+q+'" alt="'+y+'"/>').addClass("thumb_yt").css("display","none").appendTo(s),isMobile||s.bind("mouseleave",Zb).attr("data-id",C),na.splice(C,0,s),ta.splice(C,0,s),R(L)||s.addClass(L)):(A?(s=k('<a class="hitdiv" href="'+A+'" target="'+M+'" data-apNumToReturn="'+C+'"/>').css({opacity:.5,left:F+"px"}).appendTo(S),isMobile||s.bind("mouseleave",Zb).attr("data-id",C),na.splice(C,0,s)):(s.appendTo(r),r.bind("click",ac).data("no_action","true").attr("data-id",C),na.splice(C,0,"")),ta.splice(C, 0,s))}else Jf(r,C,title,y,z,N,M,A,q,L);else"wall_popup"==v&&(s.appendTo(r),ta.splice(C,0,s),r.bind("click",ac).data("no_action","true").attr("data-id",C),Fb&&(L=k('<div class="playlistNonSelected" data-type="youtube_single" data-path="'+p.id+'" ></div>').appendTo(yc.find("#"+n.activePlaylist)),U&&L.attr("data-address",p.deeplink)));isMobile||r.bind("mouseenter",Kf).bind("mouseleave",Zb).attr("data-id",C);W&&Lf(C);p.item.children("div[class='subtitles']").length&&p.item.children("div[class='subtitles']").clone().appendTo(r); p.item.children("div[class='ap_elem']").length&&p.item.children("div[class='ap_elem']").clone().appendTo(r);H.splice(C,0,{id:C,type:p.type,title:title,description:y,thumb:t,mp4:p.id,deeplink:U?P+p.deeplink:Ce,download:E,item:r})}"local"!=u&&(p=p.item);p.find("div[class='ap_adv']").length&&(H[H.length-1].ap_adv=p.find("div[class='ap_adv']").eq(0))}Ib=null;Z=zc;J=H.length;Nf();G.find(".playlistInfo").length&&G.find(".playlistInfo").dotdotdot();G.find(".ap_wall_title").length&&G.find(".ap_wall_title").dotdotdot(); if("list"==v)Of(),pe();else if("wall"==v&&(Sc&&k("a[data-fancybox-group^='fancybox-']").fancybox({openEffect:"none",closeEffect:"none",prevEffect:"none",nextEffect:"none",arrows:!0,helpers:{media:{},title:{type:"inside"},thumbs:{width:50,height:50}},beforeLoad:function(){isMobile||-1!=Na&&("undefined"!==typeof videoPlayerItemTriggered?videoPlayerItemTriggered(Q,T,Na):-1!=Ja&&"undefined"!==typeof videoPlayerItemTriggered&&videoPlayerItemTriggered(Q,T,Ja));W&&X()},afterLoad:function(){W&&X();var a= this.title?this.title:" ",l=k(this.element).find("img").attr("alt")?k(this.element).find("img").attr("alt"):" ";this.title="<h3>"+a+"</h3>"+l+"<br />"}}),"icons"==Bd&&isMobile))for(a=0,a;a<J;a++)r=k(H[a].item),Pf(r);Ya||Fb?(a=B.getCounter(),B.setPlaylistItems(J,!1),ya<=a&&(Hb||B.reSetCounter(a+K)),"list"==v&&(Cd?(Cd=!1,Ac&&!isMobile&&Bc(!0),B.setCounter(ya,!1)):Ac&&(Wa(),B.setCounter(ya,!1)))):B.setPlaylistItems(J);Xa();wc();0==J&&"undefined"!==typeof playlistEmpty&&playlistEmpty(Q,T);"undefined"!== typeof videoPlayerPlaylistLoaded&&videoPlayerPlaylistLoaded(Q,T);Qc=!0}function Jf(a,l,m,p,u,r,q,t,s,y){var v=k("<div class='ap_wall_title'><p><span>"+m+"</span></p></div>").appendTo(a);a.data("wall_title",v);var v=[],x=!1;if(Fb&&bh){var N=k('<a class="ap_wall_ic_hold ap_wall_ic_hold_bg tooltip" href="#" data-apNumToReturn="'+l+'" data-aptitle="'+n.tooltips.remove+'"><i class="fa fa-times ap_wall_cntr_rm"></i></a>').appendTo(a).bind("click",ch).attr("data-id",l);v.push(N)}u&&r&&(Sc=!0,m=k('<a class="fancybox ap_wall_ic_hold ap_wall_ic_hold_bg tooltip" href="'+ r+'" data-fancybox-group="'+u+'" title="'+m+'" data-apNumToReturn="'+l+'" data-aptitle="'+n.tooltips.detail+'"><i class="fa fa-search ap_wall_cntr_det"></i></a>').appendTo(a),img=k('<img src="'+s+'" alt="'+p+'"/>').css("display","none").appendTo(m),v.push(m),y&&!R(y)&&m.addClass(y),x=!0);t&&(p=k('<a class="ap_wall_ic_hold ap_wall_ic_hold_bg tooltip" href="'+t+'" target="'+q+'" data-apNumToReturn="'+l+'" data-aptitle="'+n.tooltips.link+'"><i class="fa fa-chain ap_wall_cntr_ch"></i></a>').appendTo(a), v.push(p),x=!0);x||(p=k('<a class="ap_wall_ic_hold ap_wall_ic_hold_bg tooltip" href="#" data-apNumToReturn="'+l+'" data-aptitle="'+n.tooltips.action+'"><i class="fa fa-reply ap_wall_cntr_na"></i></a>').appendTo(a).bind("click",ac).data("no_action","true").attr("data-id",l),v.push(p));k(v).each(function(){k(this).bind("mouseover",function(a){a.preventDefault();k(this).removeClass("ap_wall_ic_hold_bg").addClass("ap_wall_ic_hold_bg_on")}).bind("mouseout",function(a){a.preventDefault();k(this).removeClass("ap_wall_ic_hold_bg_on").addClass("ap_wall_ic_hold_bg")}).attr("data-id", l)});a.data("wall_cntr_arr",v)}function Lf(a){var l=k("<div/>").addClass("thumb_vid").attr({dataTitle:"videoDiv"}).appendTo(Jb[a]);Dd.splice(a,0,l);l=k(new Image).attr("data-id",a).addClass("thumbPreloader").load(function(){}).error(function(a){}).attr({src:dh,dataTitle:"thumbPreloader"}).appendTo(Jb[a]);Ed.splice(a,0,l)}function Of(){if(0<J){var a=0,l;for(a;a<J;a++)l=k(H[a].item),"horizontal"==fa?l.css("marginRight",Gf+"px"):l.css("marginBottom",Ff+"px");"vertical"==fa?H[J-1].item.css("marginBottom", "0px"):H[J-1].item.css("marginRight","0px");a=I=0;for(a;a<J;a++)l=k(H[a].item),I="horizontal"==fa?I+l.outerWidth(!0):I+l.outerHeight(!0);"buttons"==jb?("horizontal"==fa&&Xb.width(I),oe()):"scroll"==jb&&"horizontal"==fa&&Z.width(I);"buttons"==jb&&("horizontal"==fa?(a=G.width(),I<=a&&L.css("left","0px")):(a=G.height(),I<=a&&L.css("top","0px")))}}function Nf(){var a=0;J=H.length;for(a;a<J;a++)H[a].id=a,k(H[a].item).attr("data-id",a).find("[data-id]").each(function(){k(this).attr("data-id",a)}).find("[data-apNumToReturn]").each(function(){k(this).attr("data-apNumToReturn", a)})}function Ee(a){W&&X();H.splice(a,1);na.splice(a,1);ta.splice(a,1);Jb.splice(a,1);$b.splice(a,1);W&&(Ed.splice(a,1),Dd.splice(a,1));zc.children(".playlistNonSelected, .playlistSelected").eq(a).remove();U&&ha[ra].mediaName.splice(a,1);Nf()}function ch(a){if(!u||x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=k(a.currentTarget);a=parseInt(a.attr("data-id"),10);H[a]&&Ee(a);return!1}function Fd(){if(Oa){var a=parseInt(Oa.css("borderLeftWidth"), 10),k=parseInt(Oa.css("marginLeft"),10),m=parseInt(Oa.css("paddingLeft"),10),p=parseInt(G.css("borderLeftWidth"),10),n=parseInt(G.css("marginLeft"),10),r=parseInt(G.css("paddingLeft"),10),q=parseInt(Oa.css("borderTopWidth"),10),u=parseInt(Oa.css("marginTop"),10),s=parseInt(Oa.css("paddingTop"),10),t=parseInt(G.css("borderTopWidth"),10),x=parseInt(G.css("marginTop"),10),N=parseInt(G.css("paddingTop"),10);if(!Oa.offset())return!1;a=parseInt(Oa.offset().left,10)-parseInt(G.offset().left,10)+a+k+m+p+ n+r;q=parseInt(Oa.offset().top,10)-parseInt(G.offset().top,10)+q+u+s+t+x+N;"local"==Kb?(pb&&pb.css({left:a+"px",top:q+"px"}),ja&&ja.css({left:a+"px",top:q+"px"}),Cc.css({left:a+"px",top:q+"px"})):"youtube"==Kb&&(pb&&pb.css({left:a+"px",top:q+"px"}),O?"wall"==v?(ja&&ja.css({left:a+"px",top:q+"px"}),Tc&&youtubeIframePreview.css({left:a+"px",top:q+"px"})):youtubeIframePreview.css({left:a+"px",top:q+"px"}):(ja&&ja.css({left:a+"px",top:q+"px"}),Cc.css({left:a+"px",top:q+"px"})))}}function Kf(a){if(!u|| x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();var l=k(a.currentTarget);a=parseInt(l.attr("data-id"),10);var m=k(H[a].item);if(a==B.getCounter()||a==Na)return"undefined"!==typeof playlistItemRollover&&playlistItemRollover(Q,T,m,a),!1;Na=Ja=a;Kb=l.attr("data-type");"list"==v&&l.removeClass("playlistNonSelected").addClass("playlistSelected");ja=null;if(W)if(Df=a,Oa=k(Jb[a]),Pa=k(ta[a]),Fe=k($b[a]).stop().animate({opacity:0},{duration:500,easing:"easeOutSine"}), sb=k(Ed[a]).css("display","block"),Uc=k(Dd[a]),l=k(H[a].item),O)if("local"==Kb){if(Vc)tb=l.attr("data-mp4").replace(Rc,Gd);else if(!rb&&Hd&&void 0!=l.attr("data-ogv"))tb=l.attr("data-ogv").replace(Rc,Gd);else if(rb&&Id&&void 0!=l.attr("data-webm"))tb=l.attr("data-webm").replace(Rc,Gd);else return alert("No supported video format found for preview video. Quitting."),!1;l=""+('<video class="preview_video_cont" width="'+xc+'" height="'+Gb+'" preload="auto" >');l+='<source src="'+tb+'" />';l+="</video>"; if(!isAndroid){var p;Vc?p='type="video/mp4"':!rb&&Hd?p='type="video/ogg"':rb&&Id&&(p='type="video/webm"');var n=l.match(/\/\>/),l=l.slice(0,n.index)+p+l.slice(n.index)}Uc.html(l);bc=Uc.find(".preview_video_cont");Wc=bc[0];bc.bind("ended",Qf).bind("canplaythrough",Ge).bind("canplay",He)}else{Ie=l.attr("data-mp4");youtubeIframePreview.css({left:"-10000px",top:"0px",width:"320px",height:"240px",opacity:.01});if("wall"==v||"wall_popup"==v)ja&&ja.css("left","-10000px"),na[a]&&(ja=na[a]),ua&&clearInterval(ua), ua=setInterval(Fd,Jd);eh()}else{if("wall"==v||"wall_popup"==v)ja&&ja.css("left","-10000px"),na[a]&&(ja=na[a]),ua&&clearInterval(ua),ua=setInterval(Fd,Jd);tb=l.attr("data-mp4");tb=tb.replace(Rc,Gd);"local"==Kb?"undefined"!==typeof E(Qa)&&E(Qa).pb_play(tb,2,xc,Gb,"local"):"undefined"!==typeof E(Qa)&&E(Qa).pb_play(tb,2,xc,Gb,"youtube")}else"wall"==v&&"icons"==Bd&&Pf(l);"undefined"!==typeof playlistItemRollover&&playlistItemRollover(Q,T,m,a);return!1}function Pf(a){if(a.data("wall_title")){var k=a.data("wall_title"); k.animate({top:Gb-k.outerHeight(!0)+"px"},{duration:150,easing:"easeOutQuint"})}if(a.data("wall_cntr_arr")){a=a.data("wall_cntr_arr");var k=0,m=a.length,p=0;for(k;k<m;k++)a[k].stop().delay(p).animate({top:"0px"},{duration:150,easing:"easeOutSine"}),p+=50}}function Qf(){try{Wc.currentTime=0}catch(a){}Wc.play()}function Ge(){Rf()}function He(){Rf()}function Rf(){bc&&bc.unbind("canplaythrough",Ge).unbind("canplay",He);sb&&sb.css("display","none");Wc&&Wc.play()}function X(){ua&&clearInterval(ua);O?"local"== Kb?(bc&&bc.unbind("ended",Qf).unbind("canplaythrough",Ge).unbind("canplay",He).find("source").attr("src",""),Uc&&Uc.html("")):(youtubeIframePreview&&youtubeIframePreview.css("left","-10000px"),isIE?ka&&ka.clean():ka&&ka.stop(),ja&&ja.css("left","-10000px"),pb&&pb.css("left","-10000px"),Tc=!1):("undefined"!==typeof E(Qa)&&E(Qa).pb_dispose(),Cc.css("left","-10000px"),ja&&ja.css("left","-10000px"),pb&&pb.css("left","-10000px"),Tc=!1);sb&&sb.css("display","none");Fe&&Fe.stop().animate({opacity:1},{duration:500, easing:"easeOutSine"});Na=-1}function Zb(a){if(!u||x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();var l=k(a.currentTarget),m=parseInt(l.attr("data-id"),10);isNaN(m)&&(m=isNaN(Na)?Na:Ja);var p=k(H[m].item);if(m==B.getCounter())return"undefined"!==typeof playlistItemRollout&&playlistItemRollout(Q,T,p,m),!1;if(W)if("local"==Kb)if(O)X();else if("list"==v)if(Pa){var n=parseInt(Pa.offset().left,10)-parseInt(G.offset().left,10),r=parseInt(Pa.offset().top, 10)-parseInt(G.offset().top,10),q=a.pageX-parseInt(G.offset().left,10)+thumbLeft,t=a.pageY-parseInt(G.offset().top,10)+thumbTop,n=n+thumbLeft,r=r+thumbTop;if(q>n&&q<n+zd&&t>r&&t<r+Ad)if(a.pageX<=parseInt(G.offset().left,10)||a.pageY<=parseInt(G.offset().top,10)||a.pageX>=parseInt(G.offset().left,10)+ga.width()||a.pageY>=parseInt(G.offset().top,10)+ga.height())X();else return!1;else X()}else X();else{if(Pa&&(n=parseInt(Pa.offset().left,10)-parseInt(G.offset().left,10),r=parseInt(Pa.offset().top,10)- parseInt(G.offset().top,10),q=a.pageX-parseInt(G.offset().left,10)+thumbLeft,t=a.pageY-parseInt(G.offset().top,10)+thumbTop,q>n&&q<n+zd&&t>r&&t<r+Ad))return!1;X()}else{if("youtube"==Kb)if(Pa&&Pa.offset())if(n=parseInt(Pa.offset().left,10)-parseInt(G.offset().left,10),r=parseInt(Pa.offset().top,10)-parseInt(G.offset().top,10),q=a.pageX-parseInt(G.offset().left,10)+thumbLeft,t=a.pageY-parseInt(G.offset().top,10)+thumbTop,"list"==v&&(n+=thumbLeft,r+=thumbTop),q>n&&q<n+zd&&t>r&&t<r+Ad)if("list"==v)if(a.pageX<= parseInt(G.offset().left,10)||a.pageY<=parseInt(G.offset().top,10)||a.pageX>=parseInt(G.offset().left,10)+ga.width()||a.pageY>=parseInt(G.offset().top,10)+ga.height())X();else return!1;else return!1;else X();else X()}else if("wall"==v&&"icons"==Bd&&(l.data("wall_title")&&l.data("wall_title").animate({top:Gb+"px"},{duration:150,easing:"easeOutQuint"}),l.data("wall_cntr_arr")))for(a=l.data("wall_cntr_arr"),n=0,r=a.length,q=0,n;n<r;n++)a[n].stop().delay(q).animate({top:-a[n].outerHeight(!0)+"px"},{duration:150, easing:"easeOutSine"}),q+=50;"list"==v&&l.hasClass("playlistSelected")&&l.removeClass("playlistSelected").addClass("playlistNonSelected");Na=-1;"undefined"!==typeof playlistItemRollout&&playlistItemRollout(Q,T,p,m);return!1}function ac(a){if(!u||x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();Na=a=k(a.currentTarget).attr("data-id");if("list"==v){if(a==B.getCounter())return!1;W&&X();Wa();B.processPlaylistRequest(a)}else"wall_popup"!=v||m||"undefined"=== typeof open_popup||(n.activeItem=a,isIOS&&isChrome&&hasLocalStorage&&(localStorage.setItem("vplp_wall_popup_mltp_settings",JSON.stringify(n)),localStorage.setItem("vplp_wall_act_playlist",escape(yc.wrap("<p>").parent().html()))),open_popup(n,parseInt(a,10)));"undefined"!==typeof videoPlayerItemTriggered&&videoPlayerItemTriggered(Q,T,a);return!1}function Wa(){if("wall"==v||"wall_popup"==v)return!1;if(-1!=B.getCounter()){var a=B.getCounter(),l=k(H[a].item);if(l){var m=l.attr("data-id");l.removeClass("playlistSelected").addClass("playlistNonSelected"); "undefined"!==typeof playlistItemEnabled&&playlistItemEnabled(Q,T,l,m)}"list"==v&&(a=ta[a])&&a.css("cursor","pointer")}}function te(){if("wall"==v||"wall_popup"==v)return!1;var a=B.getCounter(),l=k(H[a].item);if(l){var m=l.attr("data-id");l.removeClass("playlistNonSelected").addClass("playlistSelected");"undefined"!==typeof playlistItemDisabled&&playlistItemDisabled(Q,T,l,m)}"list"==v&&(a=ta[a])&&a.css("cursor","default")}function fh(a){var l;if(!u||x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble= !0:a.stopPropagation&&a.stopPropagation();l=k(a.currentTarget).attr("class").split(" ");if(-1!=k.inArray("player_toggleControl",l))Sa();else if(-1!=k.inArray("player_volume",l))isMobile?qd?(ea&&clearTimeout(ea),Lc?(Ua.css("display","none"),Lc=!1):(Ua.css("display","block"),Lc=!0,ea=setTimeout(od,rd))):(me(),Mc()):(me(),Mc());else if(-1!=k.inArray("info_toggle",l))Je();else if(-1!=k.inArray("ap_share_btn",l))za.toggle(),$a.css("display","none"),Lb=!1;else if(-1!=k.inArray("player_fullscreen",l))Sf(!0), ib&&k(a.currentTarget).tooltipster("hide");else if(-1!=k.inArray("player_download",l)){if(!Dc){l=B.getCounter();a=H[l].title;l=H[l].download;l.indexOf("\\")&&(l=l.replace(/\\/g,"/"));if(!l.match(/^http([s]?):\/\/.*/)){var m=window.location.href,m=m.substr(0,m.lastIndexOf("/")+1);/^\.\.\//i.test(l)&&(l=l.substr(3),"/"==m.charAt(m.length-1)&&(m=m.substr(0,m.lastIndexOf("/"))),m=m.substr(0,m.lastIndexOf("/")+1));l=m+l}a=a.replace(/[^A-Z0-9\-\_\.]+/ig,"_");0<l.lastIndexOf(".")&&(m=l.substr(l.lastIndexOf(".")), (new RegExp("/"+m+"$/i")).test(a)||(a+=m));isMobile?(Dc=!0,gh?(Tf||(Ke=Uf())&&(Tf=!0),Ke?Vf(Ke,a,l):Dc=!1):(m=Uf())?Vf(m,a,l):Dc=!1):hh.attr("src",hap_source_path+"includes/dl.php?path="+l+"&name="+a)}}else-1!=k.inArray("player_prev",l)?u&&(Wa(),B.advanceHandler(-1,!0)):-1!=k.inArray("player_next",l)&&Le();return!1}function ih(a){if(!u||x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();var l=k(a.currentTarget);a=l.attr("class").split(" ");l=l.find("i"); -1!=k.inArray("player_toggleControl",a)?Aa?l.removeClass("ap_pause").addClass("ap_pause_on"):l.removeClass("ap_play").addClass("ap_play_on"):-1!=k.inArray("player_volume",a)?0==M?l.removeClass("ap_mute").addClass("ap_mute_on"):l.removeClass("ap_vol").addClass("ap_vol_on"):-1!=k.inArray("info_toggle",a)?l.removeClass("ap_pl_info").addClass("ap_pl_info_on"):-1!=k.inArray("ap_share_btn",a)?l.removeClass("ap_pl_share").addClass("ap_pl_share_on"):-1!=k.inArray("player_fullscreen",a)?"normal"==Ka?l.removeClass("ap_fs_ent").addClass("ap_fs_ent_on"): l.removeClass("ap_fs_exit").addClass("ap_fs_exit_on"):-1!=k.inArray("player_download",a)&&l.removeClass("ap_down").addClass("ap_down_on");return!1}function jh(a){if(!u||x)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();var l=k(a.currentTarget);a=l.attr("class").split(" ");l=l.find("i");-1!=k.inArray("player_toggleControl",a)?Aa?l.removeClass("ap_pause_on").addClass("ap_pause"):l.removeClass("ap_play_on").addClass("ap_play"):-1!=k.inArray("player_volume", a)?0==M?l.removeClass("ap_mute_on").addClass("ap_mute"):l.removeClass("ap_vol_on").addClass("ap_vol"):-1!=k.inArray("info_toggle",a)?l.removeClass("ap_pl_info_on").addClass("ap_pl_info"):-1!=k.inArray("ap_share_btn",a)?l.removeClass("ap_pl_share_on").addClass("ap_pl_share"):-1!=k.inArray("player_fullscreen",a)?"normal"==Ka?l.removeClass("ap_fs_ent_on").addClass("ap_fs_ent"):l.removeClass("ap_fs_exit_on").addClass("ap_fs_exit"):-1!=k.inArray("player_download",a)&&l.removeClass("ap_down_on").addClass("ap_down"); return!1}function Le(){u&&(Wa(),B.advanceHandler(1,!0))}function vf(){u&&F&&(Wa(),F&&Xc(),B.reSetCounter())}function yd(){ua&&clearInterval(ua);Xc();ia.html("").css("display","none");W&&X();zc.empty();if("wall"==v||"wall_popup"==v){var a=0,k=na.length;for(a;a<k;a++)na[a]&&na[a].remove();na=[];ja&&(ja=null);Tc=!1}U&&(ha[ra].mediaName=[]);Sc=cc=Qc=Ya=!1;J=0;Ma=[];H=[];B.reSetCounter();Ib=null;Jb=[];$b=[];Ed=[];Dd=[];ta=[];Lb=!1;I=0;"list"==v&&"buttons"==jb&&("horizontal"==fa?L.css("left","0px"):L.css("top", "0px"),Vb&&Vb.css("display","none"),Wb&&Wb.css("display","none"));we=!1}function kh(a){k.ajax({url:a,dataType:"html",cache:!1}).done(function(a){ub=[];k(a).find("div[class='sub_group']").each(function(){var a=k(this),l={};l.title=a.attr("data-title");void 0!=a.attr("data-default")&&(l._default=!0);l.items=[];ub.push(l);a.find("div[class='ap_sub']").each(function(){var a=k(this);l.items.push({start:parseInt(a.attr("data-show"),10),end:parseInt(a.attr("data-hide"),10),item:a})})});Me=!0}).fail(function(a, k,m){Me=!0})}function lh(){Me&&(vb&&clearInterval(vb),Kd())}function vc(){P=H[B.getCounter()];P=dc||void 0==P.ap_adv?P.item:P.ap_adv;ub=[];if(k(P).children("div[class=subtitles]").length){var a=k(P).children("div[class=subtitles]");void 0==a.attr("data-src")||R(a.attr("data-src"))?Kd():(kh(a.attr("data-src")),vb&&clearInterval(vb),vb=setInterval(lh,mh))}else Kd()}function nh(){if("local"==F){var a=0,k=Ec.length,m,p;for(a;a<k;a++)if(m=Ec[a],ec==m.quality){Vc?p=m.mp4:!rb&&Hd?p=m.ogv:rb&&Id&&(p=m.webm); "undefined"!==typeof vplpQualityChange&&vplpQualityChange(Q,T,ec);break}}else p=H[B.getCounter()].mp4;return p}function Kd(a){if(Mb=a?a:null){vb&&clearInterval(vb);ab&&clearInterval(ab);if(F&&"local"==F)if(O){if(z){z.pause();try{z.currentTime=0}catch(l){}z.src=""}Ra&&Ra.unbind("ended",Yc).unbind("loadedmetadata",Ne).unbind("waiting",Oe).unbind("playing",Pe).unbind("play",Fc).unbind("pause",Zc);ia.css("display","none");!isMobile&O&&(ia.html(""),cc=!1)}else"undefined"!==typeof E(K)&&E(K).pb_dispose(); else F&&"youtube"==F&&(O?(A&&A.stop(),Ca.css("left","-10000px")):"undefined"!==typeof E(K)&&E(K).pb_dispose());Wf();Ac=$c=aa=Aa=!1}else Xc();P=H[B.getCounter()];Mb||(dc||void 0==P.ap_adv?(P=P.item,pa=!1,dc=!0):(P=P.ap_adv,pa=!0),F=P.attr("data-type"),"local"==F&&Xf("local"),ub.length&&!Qe&&(oh(),Ld.css("display","block"),Qe=!0),pa&&ad&&(nc=n.disableSeekbarInAdvert,fc=!1,void 0!=P.attr("data-skipEnableTime")&&0<parseInt(P.attr("data-skipEnableTime"),10)?(bb=parseInt(P.attr("data-skipEnableTime"),10), gc.show(),Md.empty().show().append(k('<img class="adv_thumb" src="'+H[B.getCounter()].thumb+'" alt=""/>'))):(bb=null,Md.hide(),gc.hide(),Nd.show(),nc=!1)));wb=nh();"local"==F?cb?O?Yf():"undefined"!==typeof E(K)&&(E(K).pb_play(wb,db,Da.width(),Da.height(),"local",!0,Mb?hc:null),aa=!0):(ph(),mb()):"youtube"==F&&(O?qh():"undefined"!==typeof E(K)&&(E(K).pb_play(wb,db,Da.width(),Da.height(),"youtube",Od,null),cb&&(aa=!0)));"list"==v&&"undefined"!==typeof videoPlayerItemTriggered&&setTimeout(function(){videoPlayerItemTriggered(Q, T,B.getCounter())},50)}function Xc(){vb&&clearInterval(vb);ab&&clearInterval(ab);id=jd=null;Pd.hide();Nd.hide();Qd();$a.css("display","none");Re.css("display","none");Lb=!1;Rd&&za.css("display","none");Sd.css("display","none");if(F&&"local"==F)if(O){if(z){z.pause();try{z.currentTime=0}catch(a){}z.src=""}Ra&&Ra.unbind("ended",Yc).unbind("loadedmetadata",Ne).unbind("waiting",Oe).unbind("playing",Pe).unbind("play",Fc).unbind("pause",Zc);ia.css("display","none");!isMobile&O&&(ia.html(""),cc=!1)}else"undefined"!== typeof E(K)&&E(K).pb_dispose();else F&&"youtube"==F&&(O?(A&&A.stop(),Ca.css("left","-10000px")):"undefined"!==typeof E(K)&&E(K).pb_dispose());Nb("off");ma&&(ma.remove(),ma=null);xb.css("display","none");lc&&lc.remove();Td.css("display","none");hb.css("display","none");Wf();Ac=$c=aa=Aa=!1;bd();eb=fb=null;pa||(dc=!1);V.children("div[class='ap_sub']").remove();Pb&&Pb.remove();Ld.css("display","none");gb.css("display","none");Gc=[];Qe=!1;V.children("div[class='ap_elem']").remove();Se=!1}function Nb(a){La.css("left", "0px");La.css("display","block");"off"==a?(La.css("opacity",0),isIE&&ieBelow9&&(Zf.css("display","none"),$f.css("display","none"))):(La.css("opacity",1),isIE&&ieBelow9&&(Zf.css("display","block"),$f.css("display","block")))}function qh(){Te?(ic(),A.initVideo(wb)):(Ca=k("<div class='youtubeIframeMain'/>").prependTo(V),A=k.youtubePlayer({autoPlay:Od,defaultVolume:M,mediaPath:wb,youtubeHolder:Ca,youtubeChromeless:rh,isMobile:isMobile,initialAutoplay:Ue,quality:ag}),k(A).bind("ap_YoutubePlayer.YT_READY", function(){ic();La.css("left","-10000px")}),k(A).bind("ap_YoutubePlayer.START_PLAY",function(){aa=!0;isMobile||Bc(!0);Xf("youtube");ic();Mb||Ve();mb();ab&&clearInterval(ab);ab=setInterval(We,bg);Nb("on");isIE&&ieBelow9&&La.css("display","block")}),k(A).bind("ap_YoutubePlayer.END_PLAY",function(){Yc()}),k(A).bind("ap_YoutubePlayer.STATE_PLAYING",function(){Fc()}),k(A).bind("ap_YoutubePlayer.STATE_PAUSED",function(){Zc()}),k(A).bind("ap_YoutubePlayer.STATE_CUED",function(){Fa.css("display","none")}), k(A).on("ap_YoutubePlayer.QUALITY_CHANGE",function(a,k){ag&&Ud.length&&cg(Ud[0].item);"undefined"!==typeof vplpQualityChange&&vplpQualityChange(Q,T,k)}),Te=!0);setTimeout(function(){Fa.css("display","none")},1E3);mb()}function eh(){isIE&&(ka&&(k(ka).unbind("ap_YoutubePlayer.YT_READY").unbind("ap_YoutubePlayer.START_PLAY").unbind("ap_YoutubePlayer.END_PLAY"),ka=null),Xe=!1);Xe?ka.initVideo(Ie):(ka=k.youtubePlayer({autoPlay:!0,defaultVolume:0,mediaPath:Ie,youtubeHolder:youtubeIframePreview,youtubeChromeless:!0, isMobile:isMobile,initialAutoplay:Ue,quality:"small",small_embed:!0,isIE:isIE}),k(ka).bind("ap_YoutubePlayer.YT_READY",function(){}),k(ka).bind("ap_YoutubePlayer.START_PLAY",function(){sb&&sb.css("display","none");-1==Na?(ka.stopPreview(),X()):(youtubeIframePreview.css({width:xc+"px",height:Gb+"px"}),"list"==v?(ua&&clearInterval(ua),ua=setInterval(Fd,Jd)):Tc=!0,setTimeout(function(){youtubeIframePreview.css("opacity",1)},100))}),k(ka).bind("ap_YoutubePlayer.END_PLAY",function(){-1==Na?(ka.stopPreview(), X()):ka.play()}),Xe=!0)}function ph(){xb.css("display","block");Fa.css("display","block");var a=P.attr("data-preview")+"?rand="+99999999*Math.random();ma=k(new Image).css({position:"absolute",display:"block",opacity:0}).load(function(){Fa.css("display","none");Ye=this.width;Ze=this.height;eb=this.width;fb=this.height;ma.appendTo(xb);$e(ma);ma.animate({opacity:1},{duration:500,easing:"easeOutSine"});Nb("on")}).error(function(a){}).attr("src",a)}function Yf(){Fa.css("display","block");if(cc)ia.css({opacity:0, display:"block"}),Ra=ia.find(".video_cont"),z=Ra[0],z.src=wb,z.load();else{var a;a=""+('<video class="video_cont" width="'+eb+'" height="'+fb+'">');a+='<source src="'+wb+'" />';a+="</video>";if(!isAndroid){var k;Vc?k='type="video/mp4"':!rb&&Hd?k='type="video/ogg"':rb&&Id&&(k='type="video/webm"');var m=a.match(/\/\>/);a=a.slice(0,m.index)+k+a.slice(m.index)}ia.css({opacity:0,display:"block"}).html(a);Ra=ia.find(".video_cont");z=Ra[0]}z.volume=M;Ra.css("position","absolute").bind("ended",Yc).bind("loadedmetadata", Ne).bind("waiting",Oe).bind("playing",Pe).bind("play",Fc).bind("pause",Zc);isIOS&&!cc?(z.src=wb,z.load()):isAndroid&&!cc&&(z.play(),Nb("off"),ma&&ma.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){ma.remove();ma=null}}),aa=!0,mb());cc=!0}function Oe(a){Fa.css("display","block")}function Pe(a){Fa.css("display","none")}function Fc(a){af.find("i").removeClass("fa-play ap_play ap_play_on").addClass("fa-pause ap_pause");Cb&&bf.find("span").html("Pause");Nb("off");$c|| (isiPhoneIpod&&t.find(".big_play").remove(),"undefined"!==typeof videoPlayerVideoStart&&videoPlayerVideoStart(Q,T,B.getCounter()),isIE&&ieBelow9&&La.css("display","block"),$c=!0);"undefined"!==typeof videoPlayerPlay&&videoPlayerPlay(Q,T,B.getCounter());Aa=!0}function Zc(a){af.find("i").removeClass("fa-pause ap_pause ap_pause_on").addClass("fa-play ap_play");Cb&&bf.find("span").html("Play");Nb("on");"undefined"!==typeof videoPlayerPause&&videoPlayerPause(Q,T,B.getCounter());Aa=!1}function Ne(a){z.videoWidth&& (eb=z.videoWidth);z.videoHeight&&(fb=z.videoHeight);ic();ab&&clearInterval(ab);ab=setInterval(We,bg);z.play();aa=!0;ia.stop().animate({opacity:1},{duration:300});if(Mb&&hc)try{z.currentTime=hc-2}catch(k){}Mb||Ve();isMobile?cb=!0:Bc(!0);mb()}function Bc(a){cb=Od=vim_autoPlay=Ue=a;A&&A.setAutoPlay(a)}function Sa(){if(-1==B.getCounter())return!1;"local"==F?aa||cb?O?z.paused?z.play():z.pause():"undefined"!==typeof E(K)&&E(K).pb_togglePlayback():(Fa.css("display","block"),Nb("off"),ma&&ma.stop().animate({opacity:0}, {duration:500,easing:"easeOutSine",complete:function(){ma.remove();ma=null}}),O?Yf():"undefined"!==typeof E(K)&&E(K).pb_play(wb,db,Da.width(),Da.height(),"local",!0,Mb?hc:null)):"youtube"==F&&(O?A&&A.togglePlayback():("undefined"!==typeof E(K)&&E(K).pb_togglePlayback(),aa=!0));aa=!0;return!1}function We(){var a;if("local"==F){if(O){cd.find("p").html(md(z.currentTime));dd.find("p").html(nd(z.duration));if(!Tb){Jc.width(z.currentTime/z.duration*wa);try{var k=Math.floor(z.buffered.end(0))}catch(m){}isNaN(k)|| (a=k/Math.floor(z.duration),isNaN(a)||Vd.width(a*wa))}a=parseInt(parseInt(z.currentTime),10)}}else"youtube"==F&&O&&(cd.find("p").html(md(A.getCurrentTime())),dd.find("p").html(nd(A.getDuration())),A&&!Tb&&(Jc.width(A.getCurrentTime()/A.getDuration()*wa),a=A.getVideoBytesLoaded()/A.getVideoBytesTotal(),Vd.width(a*wa),a=parseInt(A.getCurrentTime(),10)));(jc&&jc.length||"undefined"!==typeof yb&&yb.length)&&a!=Wd&&dg(a);pa&&ad&&null!=bb&&!fc&&(a<bb?gc.find("p").html(eg+" "+(bb-a).toString()):(fc=!0,Md.hide(), gc.hide(),Nd.show(),nc=!1))}function dg(a){var k=0,m=jc.length,p,n,r;for(k;k<m;k++)p=jc[k],n=p.start,r=p.end,p=p.item,a>=parseInt(n,10)&&a<=parseInt(r-1,10)?p.css("display","block"):p.css("display","none");if("undefined"!==typeof yb&&yb.length)for(k=0,m=yb.length,k;k<m;k++)p=yb[k],n=p.start,r=p.end,p=p.item,a>=parseInt(n,10)&&a<=parseInt(r-1,10)?p.css("display","block"):p.css("display","none");Wd=a}function Yc(){"undefined"!==typeof videoPlayerVideoEnd&&videoPlayerVideoEnd(Q,T,B.getCounter());if(pa)dc= !0,vc();else if(sh)Le();else if("local"==F){if(O){try{z.currentTime=0}catch(a){}z.paused&&z.play();cb||z.pause()}}else"youtube"==F&&O&&(cb?A.play():Nb("off"))}function oh(a){k("<div>");var l,m,p;Pb=k("<ul class='captions_menu'></ul>").appendTo(gb);var n=0,r=ub.length;for(n;n<r;n++)a=ub[n],l=a.title,m=k("<li/>").appendTo(Pb),m=k('<a href="#"/>').text(l).addClass("captionOut").attr("data-srclang",l).on("click",fg).appendTo(m),isMobile||m.bind("mouseover",gg).bind("mouseout",hg),a._default&&(p=!0,ig(l), ed=m.removeClass("captionOut").addClass("captionOver").data("active",!0).css("cursor","default"));m=k("<li/>").appendTo(Pb);m=k('<a href="#"/>').text(cf).addClass("captionOut").attr("data-srclang",cf).on("click",fg).appendTo(m);p||(ed=m.removeClass("captionOut").addClass("captionOver").data("active",!0).css("cursor","default"));isMobile||m.bind("mouseover",gg).bind("mouseout",hg)}function ig(a){if(a!=cf){var l=0,m=ub.length,p;for(l;l<m;l++)if(a==ub[l].title){p=ub[l].items;break}V.children("div[class='ap_sub']").remove(); Gc=k.extend(!0,[],p);l=0;m=Gc.length;for(l;l<m;l++)La.after(k(Gc[l].item));yb=Gc}else V.children("div[class='ap_sub']").remove(),Gc=[];aa&&(Wd=0,We());"undefined"!==typeof vplpCaptionChange&&vplpCaptionChange(Q,T,a)}function fg(){var a=k(this);if(!0==a.data("active"))return!1;ed&&ed.removeClass("captionOver").addClass("captionOut").data("active",!1).css("cursor","pointer");ed=a.removeClass("captionOut").addClass("captionOver").data("active",!0).css("cursor","default");a=a.attr("data-srclang");ig(a); return!1}function gg(){k(this).removeClass("captionOut").addClass("captionOver");return!1}function hg(){!0!=k(this).data("active")&&k(this).removeClass("captionOver").addClass("captionOut");return!1}function Xf(a,l){if("youtube"==a){var m=A.getQualityLevels();ec=A.getCurrQuality()}else m=[],Ec=[],Ud=[],k.each(k(P).data(),function(a,k){if(/mp4/.test(a)){var l=a.substr(3);R(l)&&(l="Default");m.push(l);a.match(/^mp4$/)&&(ec=l);Ec.push({quality:l,mp4:k,ogv:k.replace(/mp4/,"ogv"),webm:k.replace(/mp4/, "webm")})}}),l&&(ec=l);if(0!=m.length){var p=0,n=m.length,r,q;lc=k("<ul class='quality_menu'></ul>").appendTo(hb);for(p;p<n;p++)r=m[p],q=k("<li/>").appendTo(lc),q=k('<a href="#"/>').text(r).addClass("qualityOut").attr("data-quality",r).bind("click",th).appendTo(q),isMobile||q.bind("mouseover",uh).bind("mouseout",vh),Ud.push({quality:r,item:q}),ec==r&&(default_exist=!0,Xd=q.removeClass("qualityOut").addClass("qualityOver").data("active",!0).css("cursor","default"));Td.css("display","block")}}function cg(a){Xd&& Xd.removeClass("qualityOver").addClass("qualityOut").data("active",!1).css("cursor","pointer");a&&(Xd=a.removeClass("qualityOut").addClass("qualityOver").data("active",!0).css("cursor","default"))}function th(){var a=k(this);if(!0==a.data("active"))return!1;cg(a);a=a.attr("data-quality");if("local"==F){var l=0,m=Ec.length;for(l;l<m;l++)if(a==Ec[l].quality){ec=a;break}hc=null;if(O){if(z)try{hc=z.currentTime}catch(p){}}else"undefined"!==typeof E(K)&&(hc=E(K).pb_getTime());Kd(!0)}else A.setPlaybackQuality(a); return!1}function uh(){k(this).removeClass("qualityOut").addClass("qualityOver");return!1}function vh(){!0!=k(this).data("active")&&k(this).removeClass("qualityOver").addClass("qualityOut");return!1}function Vf(a,l,m){k.ajax({type:"POST",url:hap_source_path+"includes/mail.php",data:"mail="+a+"&name="+l+"&path="+m}).done(function(a){Dc=!1}).fail(function(a,k,l){alert("Send email error: "+a.responseText);jg();Dc=!1});Yd.css({marginTop:-Yd.height()/2+"px",display:"block"}).stop().animate({opacity:1}, {duration:500});fd&&clearTimeout(fd);fd=setTimeout(jg,wh)}function jg(){fd&&clearTimeout(fd);Yd.stop().animate({opacity:0},{duration:500,complete:function(){Yd.css("display","none")}})}function Uf(){for(var a=prompt("Please enter your email address where download link will be sent:"),k=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;(!k.test(a)||R(a))&&null!=a;)a=prompt("Please enter a valid email address:");return a}function kg(){hap_players.push(Q);var a=hap_players.length-1;n.flashp_id=a;a="flashPreview"+ a;Qa="#"+a;a=k('<object id="'+a+'" type="application/x-shockwave-flash" data="fallback2.swf" width="100%" height="100%"><param name="movie" value="fallback2.swf" /><param name="allowScriptAccess" value="always" /><param name="bgcolor" value="#000000" /><param name="allowfullscreen" value="true" /><param name="wmode" value="transparent" /><a href="http://get.adobe.com/flashplayer/" target="_blank"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" /></a></object>'); Cc=k("<div/>").addClass("flashPreview").append(a);Xb.after(Cc);var l=setInterval(function(){"undefined"!==typeof E(Qa)&&(clearInterval(l),Hc=setInterval(xh,lg))},50)}function yh(){void 0!=E(K).setData&&(Hc&&clearInterval(Hc),E(K).setData(n),W?kg():R(sa)?wc():Yb())}function xh(){void 0!=E(Qa).setData&&(Hc&&clearInterval(Hc),E(Qa).setData(n),Cc.css({left:"-10000px",width:xc+"px",height:Gb+"px"}),R(sa)?wc():Yb())}function E(a){"#"==a.charAt(0)&&(a=a.substr(1));return isSafari?window[a]:-1!=navigator.appName.indexOf("Microsoft")? window[a]:document[a]}function Wg(){if("list"==v){hap_players.push(Q);var a=hap_players.length-1,l="flashMain"+a;K="#"+l;n.flash_id=a;a=k('<object id="'+l+'" type="application/x-shockwave-flash" data="fallback.swf" width="100%" height="100%"><param name="movie" value="fallback.swf" /><param name="allowScriptAccess" value="always" /><param name="bgcolor" value="#000000" /><param name="allowfullscreen" value="true" /><param name="wmode" value="transparent" /><a href="http://get.adobe.com/flashplayer/" target="_blank"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" /></a></object>'); k("<div/>").addClass("flashMain").append(a).prependTo(V);var m=setInterval(function(){"undefined"!==typeof E(K)&&(clearInterval(m),Hc=setInterval(yh,lg))},50)}else W?kg():R(sa)?wc():Yb()}function Ve(){Zd=!1;if(void 0!=P.attr("data-description")&&!R(P.attr("data-description"))){Zd=!0;var a=P.attr("data-description");zh.html(a);Re.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:500,easing:"easeOutSine"});Ah&&Je()}P.children("div[class='ap_elem']").length&&!Se&&(k(P.children("div[class='ap_elem']")).each(function(){var a= k(this).clone().bind("mouseenter",function(a){k(this).addClass("ap_elem_hover").find(".ap_el_close").show()}).bind("mouseleave",function(a){k(this).removeClass("ap_elem_hover").find(".ap_el_close").hide()});a.find(".ap_el_close").on("click",function(){Bh?k(this).parent().remove():k(this).parent().hide();return!1});Ea.before(a);jc.push({start:isNaN(parseInt(a.attr("data-show"),10))?0:parseInt(a.attr("data-show"),10),end:isNaN(parseInt(a.attr("data-hide"),10))?1E5:parseInt(a.attr("data-hide"),10),item:a})}), t.find(".apctooltip").tooltipster({onlyOne:!0,updateAnimation:!1,offsetY:3,speed:0}),Se=!0);void 0==P.attr("data-download")||R(P.attr("data-download"))||Sd.css("display","block");bd()}function Je(){Lb?($a.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){$a.css("display","none")}}),Lb=!1):(za.hide(),$a.css({opacity:0,display:"block"}),kc?(kc.reinitialise(),kc.scrollToY(0)):(kc=$a.jScrollPane().data().jsp,$a.bind("jsp-initialised",function(a,k){}),$a.jScrollPane({verticalDragMinHeight:100, verticalDragMaxHeight:100,mouseWheelSpeed:30})),$a.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),Lb=!0)}function mg(){kc&&(kc.reinitialise(),kc.scrollToY(0))}function Ch(a){if(!u||x)return!1;"list"==v&&("undefined"===typeof a&&(-1E4!=parseInt(ga.css("left"),10)?a="off":"on"),"off"==a?(W&&X(),ga.css("left"),ga.css("left","-10000px")):df())}function Og(a){if(!u||x||!Z)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();mb();return!1} function Pg(a){if(!u||x||!Z)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();yf&&"fullscreen"!=Ka&&Qd();W&&(ka&&ka.stopPreview(),X(),"list"==v&&-1!=Ja&&Ja!=B.getCounter()&&k(H[Ja].item)&&k(H[Ja]).item.removeClass("playlistSelected").addClass("playlistNonSelected"));return!1}function Qg(a){if(!u||x||!Z)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();W&&(ka&&ka.stopPreview(),X(),"list"==v&&-1!=Ja&& Ja!=B.getCounter()&&k(H[Ja].item)&&k(H[Ja].item).removeClass("playlistSelected").addClass("playlistNonSelected"));return!1}function mb(){if("wall"==v||"wall_popup"==v)return!1;pa?Zd&&Ob.css("display","block"):Ob.css("display","block");if(!aa)return!1;pa?(ng&&Ea.css("display","block"),ad&&Pd.css("display","block")):Ea.css("display","block");bd()}function xe(){if("wall"==v||"wall_popup"==v)return!1;pa?Zd&&Ob.css("display","block"):Ob.css("display","block");if(!aa)return!1;pa?(ng&&Ea.css("display","block"), ad&&Pd.css("display","block")):Ea.css("display","block")}function Qd(){if("wall"==v||"wall_popup"==v)return!1;Ob.css("display","none");Ea.css("display","none")}function ue(){df();"fullscreen"==Ka?$d():"local"==F?aa?O&&ic():$e(ma):"youtube"==F&&ic();bd();Lb&&mg();if(Rd){Qb.css("left",0);var a=Qb.width();a+parseInt(za.css("left"),10)>V.width()&&(a=V.width()-parseInt(za.css("left"),10));za.width(a)}}function df(){if(!Oc&&"list"==v){var a=0!=t.width()?t.width():Math.max(gd.width(),document.documentElement.clientWidth), l=0!=t.height()?t.height():Math.max(gd.height(),document.documentElement.clientHeight);"fullscreen"!=Ka?"vertical"==fa?(a<400+ae?(ga.removeClass("playlistHolder").addClass("playlistHolder_small"),V.css({width:a-ga.width()+"px"})):(V.css({width:(be?a-ae:a-ae>og?og:a-ae)+"px"}),ga.removeClass("playlistHolder_small").addClass("playlistHolder")),a=V.width(),ga.css({left:a+"px"}),ia.css({width:a+"px"}),xb.css({width:a+"px"}),Ca&&Ca.css({width:a+"px"}),La.css({width:a+"px"}),Ea.css({width:a+"px"})):(be&& (l=Math.max(gd.height(),document.documentElement.clientHeight),V.css({height:l-ga.height()+"px"}),a=V.height(),ga.css({top:a+"px"}),Ca&&Ca.css({height:a+"px"}),ia.css({height:a+"px"}),xb.css({height:a+"px"}),Ea.css({top:a-Ea.height()+"px"}),La.css({height:a+"px"})),ga.css({left:"0px"})):"vertical"==fa?(V.css({width:a+"px"}),ia.css({width:a+"px"}),xb.css({width:a+"px"}),Ca&&Ca.css({width:a+"px"}),La.css({width:a+"px"}),Ea.css({width:a+"px"})):be&&(V.css({height:l+"px"}),ia.css({height:l+"px"}),xb.css({height:l+ "px"}),Ca&&Ca.css({height:l+"px"}),La.css({height:l+"px"}),Ea.css({top:l-Ea.height()+"px"}));a=I=0;for(a;a<J;a++)l=k(H[a].item),I="horizontal"==fa?I+l.outerWidth(!0):I+l.outerHeight(!0);"buttons"==jb?("horizontal"==fa?(L.css("left","0px"),Xb.width(I)):L.css("top","0px"),oe()):"scroll"==jb&&("horizontal"==fa&&Z.width(I),pe())}}function $d(){oa&&clearTimeout(oa);va.unbind("mousemove",ce);"fullscreen"==Ka?(Sb.addClass("fsOverflow"),"list"==v&&V.removeClass("playerHolder").addClass("playerHolder_fs"), isMobile?oa=setTimeout(function(){clearTimeout(oa);ef()},hd):(va.unbind("mousemove",ce).bind("mousemove",ce),oa=setTimeout(function(){clearTimeout(oa);ce()},hd)),Ch("off"),pg("off"),"undefined"!==typeof fsEnter&&fsEnter(Q,T)):(Sb.removeClass("fsOverflow"),"list"==v&&V.removeClass("playerHolder_fs").addClass("playerHolder"),pg("on"),"undefined"!==typeof fsExit&&fsExit(Q,T));df();ma&&$e(ma);O&&ic();Lb&&mg();bd();mb()}function ce(a){if(!aa)return!1;oa&&clearTimeout(oa);a&&(qg!=a.clientX&&xe(),qg=a.clientX); oa=setTimeout(function(){Qd()},hd)}function ef(){oa&&clearTimeout(oa);Qd();oa=setTimeout(function(){clearTimeout(oa);ef()},hd)}function Dh(){this.value=this.value.replace(/[^0-9]/g,"")}function ye(a){return!isNaN(parseFloat(a))&&isFinite(a)}function bd(){var a="block"==cd.css("display")?Eh:0;b="block"==dd.css("display")?Fh:0;c="block"==ff.css("display")?Gh:0;d="block"==gf.css("display")?Hh:0;e="block"==Ld.css("display")?Ih:0;f="block"==Td.css("display")?Jh:0;g="block"==Sd.css("display")?Kh:0;rg&& (d=0);sg=Lh+a+b+c+d+e+f+g;tg=Ea.width();wa=tg-sg-ug;Ub.width(wa+ug-1);ke.width(wa)}function $e(a){if(!a)return!1;var k,m,p;m=xb.width();p=xb.height();0==db?k=hf():1==db?k=de(!0,a,Ye,Ze):2==db&&(k=de(!1,a,Ye,Ze));m=parseInt((m-k.width)/2,10);p=parseInt((p-k.height)/2,10);a.css({width:k.width+"px",height:k.height+"px",left:m+"px",top:p+"px"})}function ic(){if(-1==B.getCounter())return!1;var a,k,m;k=ia.width();m=ia.height();0==db?a=hf():1==db?a=de(!0):2==db&&(a=de(!1));k=parseInt((k-a.width)/2,10);m= parseInt((m-a.height)/2,10);"local"==F?Ra&&Ra.css({width:a.width+"px",height:a.height+"px",left:k+"px",top:m+"px"}):"youtube"==F&&Ca&&Ca.css({width:a.width+"px",height:a.height+"px",left:k+"px",top:m+"px"})}function de(a,k,m,p){var n=ia.width(),r=ia.height(),q={};k?"undefined"!==typeof m&&"undefined"!==typeof p?k=p:(m=k.width(),k=k.height()):(k=hf(),m=k.width,k=k.height);p=(n-0)/(r-0);var t=m/k;t<p?a?(q.width=(r-0)/k*m,q.height=r-0):(q.height=(n-0)/m*k,q.width=n-0):t>p?a?(q.height=(n-0)/m*k,q.width= n-0):(q.width=(r-0)/k*m,q.height=r-0):(q.width=n-0,q.height=r-0);return q}function hf(){var a={};"local"==F?!eb||isNaN(eb)||!fb||isNaN(fb)?z?(a.width=z.videoWidth,a.height=z.videoHeight):(a.width=640,a.height=360):(a.width=eb,a.height=fb):"youtube"==F&&(!eb||isNaN(eb)||!fb||isNaN(fb)?(a.width=640,a.height=360):(a.width=eb,a.height=fb));return a}function pg(a){"on"==a?(gf.find("i").removeClass().addClass("fa fa-expand ap_fs_ent"),Cb&&vg.find("span").html("Fullscreen")):(gf.find("i").removeClass().addClass("fa fa-compress ap_fs_exit"), Cb&&vg.find("span").html("Exit Fullscreen"))}function Sf(a){jf=0;Ka="normal"==Ka?"fullscreen":"normal";if(ee){var k=document.documentElement;k.requestFullscreen?document.fullscreenElement||document.fullscreenElement?document.exitFullscreen():k.requestFullscreen():k.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():k.webkitRequestFullScreen():k.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():k.msRequestFullscreen(): k.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():k.mozRequestFullScreen())}ee?"normal"==Ka&&a&&$d():$d()}function Mh(){var a=!1;if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)a=!0;else if(document.documentElement.requestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen||document.documentElement.oRequestFullscreen|| document.documentElement.webkitRequestFullScreen)a=!0;return a}function R(a){return 0==a.replace(/^\s+|\s+$/g,"").length}function Wf(){cd.find("p").html("00:00");dd.find("p").html("00:00");Jc.width(0);Vd.width(0)}function Yg(a,k,m){"path"==k&&a.sort(function(a,k){return a.path==k.path?0:a.path<k.path?-1:1});m&&a.reverse()}function Nh(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/ogg; codecs="theora, vorbis"').replace(/no/,""))}function Oh(){var a=document.createElement("video"); return!(!a.canPlayType||!a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))}function Ph(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""))}function md(a){a=Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a%60);return minutes+":"+(10<=a?a:"0"+a)}function nd(a){a=Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a% 60);return minutes+":"+(10<=a?a:"0"+a)}function $g(a){var k=document.createElement("a");k.href=a;return k.href}function Ae(a){var k={};k.type=a.attr("data-type");k.item=a.clone();"local"!=k.type&&(k.path=k.id=a.attr("data-path"),void 0==a.attr("data-limit")||R(a.attr("data-limit"))?k.limit=1E3:k.limit=parseInt(a.attr("data-limit"),10),void 0==a.attr("data-sort")||R(a.attr("data-sort"))||(k.sort=a.attr("data-sort")),void 0==a.attr("data-query")||R(a.attr("data-query"))||(k.query=a.attr("data-query")), U&&(k.deeplink=a.attr("data-address")));return k}function wg(a){var k=yc.find("div[id="+a+"]").children("div[class*=playlistNonSelected]").eq(0),m=k.attr("data-type"),k="local"==m||"youtube_single"==m?k.attr("data-address"):k.attr("data-address")+1;return a+("/"+k+"/")}if(function(){var a=!1,k=document.URL,m=k.indexOf("://")+3,p=k.indexOf("/",m),k=k.substring(m,p).split("."),m=[1059,653,969,1728],p=[],n,r,q,t,s=k.length,u,v;for(n=0;n<s;n++){v=k[n];u=v.length;q=r=0;for(r;r<u;r++)t=v.charAt(r),q+=t.charCodeAt(0); p.push(q)}n=0;s=p.length;u=m.length;n;a:for(;n<s;n++)for(r=0,r;r<u;r++)if(p[n]==m[r]){a=!0;break a}return a}()){var u=!1,Q=this;hap_mediaArr.push({player_id:Q,media_id:n.media_id});var Sb=k("body"),gd=k(window),va=k(document),Ce=window.location.href,rc="",mc="",Bb="",Ta,Rb=!0;"ontouchstart"in window?(Ta=!0,rc="touchstart.ap",mc="touchmove.ap",Bb="touchend.ap"):(Ta=!1,rc="mousedown.ap",mc="mousemove.ap",Bb="mouseup.ap");var qg=0,Bf=50,Vc=Oh(),Hd=Nh(),Id=Ph(),O=!!document.createElement("video").canPlayType, t=k(this),Da=t.find(".componentWrapper"),G=t.find(".componentPlaylist");t.find(".innerWrapper");var v=n.playlistType,Bd=n.wallType,bh=n.useRemoveButtons,Xb="list"==v?t.find(".playlist_inner"):Da.find(".playlist_inner"),zc=t.find(".playlist_content"),ga=t.find(".playlistHolder"),Oc=t.find(".playlistHolder").length?!1:!0,yc=k(n.playlistList),V=t.find(".playerHolder"),og=V.width(),ae=ga.width(),cd=t.find(".player_mediaTime_current"),dd=t.find(".player_mediaTime_total"),Ea=t.find(".playerControls"),af= t.find(".player_toggleControl"),Ub=t.find(".player_seekbar"),ke=t.find(".progress_bg"),Vd=t.find(".load_level"),Jc=t.find(".progress_level"),Ua=t.find(".volume_seekbar").css("zIndex",300),le=t.find(".volume_bg"),qf=t.find(".volume_level"),gf=t.find(".player_fullscreen"),Ld=t.find(".player_captions"),gb=t.find(".caption_holder").css("zIndex",301),ie=t.find(".caption_btn").css("cursor","pointer");if(isMobile)ie.on("click",function(){if(!u||x)return!1;hb.css("display","none");id||N();gb.toggle();return!1}); else Ld.bind("mouseenter",function(a){if(!u||x)return!1;id||N();gb.css("display","block");k(a.currentTarget).find("i").removeClass("ap_cc").addClass("ap_cc_on")}).bind("mouseleave",function(a){if(!u||x)return!1;k(a.currentTarget).find("i").removeClass("ap_cc_on").addClass("ap_cc");gb.css("display","none")});var ng=n.showControlsInAdvert,nc=n.disableSeekbarInAdvert,ad=n.showSkipButtonInAdvert,bb,fc,Pd=t.find(".ap_adv_skip").appendTo(V).css("cursor","pointer").bind("click",function(){if(!u||x||!pa|| bb&&!fc)return!1;dc=!0;isMobile||Bc(!0);vc();return!1}),Md=t.find(".ap_adv_img"),gc=t.find(".ap_adv_msg"),Nd=t.find(".ap_adv_msg_end"),eg=gc.find("p").html(),Td=Da.find(".player_quality"),hb=Da.find(".quality_holder").css("zIndex",303),je=Da.find(".quality_btn").css("cursor","pointer");if(isMobile)je.on("click",function(){if(!u||x)return!1;gb.css("display","none");jd||Ga();hb.toggle();return!1});else Td.bind("mouseenter",function(a){if(!u||x)return!1;jd||Ga();hb.css("display","block");k(a.currentTarget).find("i").removeClass("ap_qual").addClass("ap_qual_on")}).bind("mouseleave", function(a){if(!u||x)return!1;hb.css("display","none");k(a.currentTarget).find("i").removeClass("ap_qual_on").addClass("ap_qual")});var Sd=t.find(".player_download"),Dc,Tf,Ke,hh=0==Da.find("iframe[id='dl_iframe']").length?k('<iframe id="dl_iframe"/>').css({position:"absolute",left:"-10000px",display:"none"}).appendTo(Da):Da.find("iframe[id='dl_iframe']");if(isMobile)var fd,wh=2E3,Yd=0==V.find("div[id='download_confirm']").length?k('<div id="download_confirm"><p>DOWNLOAD STARTING</p></DIV>').addClass("download_confirm").css({opacity:0, zIndex:1E3}).appendTo(V):V.find("div[id='download_confirm']");var K,Qa,Cc,Ca,W=isMobile?!1:n.useLivePreview;O&&W&&(youtubeIframePreview=k('<div class="youtubeIframePreview"/>').appendTo(G).bind("click",function(a){return!1}),youtubeIframePreview.css({left:-youtubeIframePreview.width()+5+"px"}));var pb,V=t.find(".playerHolder"),ia=t.find(".mediaHolder").bind("click",function(){if(!u||x)return!1;Sa();return!1}),xb=t.find(".mediaPreview").bind("click",function(){if(!u||x)return!1;Sa();return!1}),Ob= t.find(".player_addon"),Rd;t.find(".ap_share").length&&(Rd=!0);if(Rd){t.find(".ap_share_btn");var za=t.find(".ap_share_holder");Ob.css({visibility:"hidden",display:"block"});za.css("display","block");var kf=0,xg=[],yg,Qb=t.find(".ap_share_wrapper");Qb.find("ul").children("li").each(function(){kf+=k(this).outerWidth(!0);xg.push(k(this).children("a[class*=tooltip]"));"facebook"==k(this).children("a[class*=tooltip]").attr("data-type").toLowerCase()&&(yg=!0)});yg&&n.fs_app_id&&inject_facebook_sdk(n.fs_app_id); Qb.width(kf);Ob.css({visibility:"visible",display:"none"});za.css("display","none");isMobile?Ta&&Ha():za.bind("mouseenter",function(){if(!u||Qb.width()<=za.width())return!1;za.unbind("mousemove").bind("mousemove",S);return!1}).bind("mouseleave",function(){if(!u)return!1;za.unbind("mousemove");return!1});k(xg).each(function(){k(this).bind("click",function(a){var l=B.getCounter();if(H[l]){var m=k(this).attr("data-type").toLowerCase(),p=(window.screen.width-600)/2,n=(window.screen.height-300)/2,r=H[l], q,l=r.title,t=r.description,s=r.title+" \n"+r.description,u=r.thumb,r=r.deeplink;if("facebook"==m){if(q="http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(u),window.FB)return window.FB&&FB.ui({method:"feed",name:document.title,link:r,picture:u,caption:l,description:t}),!1}else"twitter"==m?q="http://twitter.com/share?url="+encodeURIComponent(r)+"&text="+encodeURIComponent(s):"google"==m?q="http://plus.google.com/share?url="+encodeURIComponent(u):"pinterest"==m?q="https://www.pinterest.com/pin/create/button?url="+ encodeURIComponent(u)+"&description="+encodeURIComponent(l)+"&media="+encodeURIComponent(u):"linkedin"==m?q="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(u)+"&title="+encodeURIComponent(l)+"&summary="+encodeURIComponent(t):"digg"==m?q="http://digg.com/submit?url="+encodeURIComponent(r):"reddit"==m?q="http://reddit.com/submit?url="+encodeURIComponent(r)+"&title="+encodeURIComponent(s):"tumblr"==m?q="http://www.tumblr.com/share/link?url="+encodeURIComponent(r)+"&name="+encodeURIComponent(l)+ "&description="+encodeURIComponent(t):"stumbleupon"==m?q="http://www.stumbleupon.com/submit?url="+encodeURIComponent(r)+"&title="+encodeURIComponent(l):"delicious"==m&&(q="http://del.icio.us/post?url="+encodeURIComponent(r)+"&title="+encodeURIComponent(s));q&&window.open(q,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+p+",top="+n+"")}ib&&k(a.currentTarget).tooltipster("hide");return!1})})}var Re=t.find(".info_toggle"),$a=t.find(".infoHolder"),ff=t.find(".player_volume"), La=t.find(".big_play").css("cursor","pointer").bind("click",function(){if(!u||x)return!1;pa&&$c&&void 0!=P.attr("data-link")&&(void 0!=P.attr("data-target")&&"_blank"==P.attr("data-target")?window.open(P.attr("data-link")):window.location=P.attr("data-link"));Sa();return!1}),Zf=t.find(".big_play_bg"),$f=t.find(".ap_bplay"),zh=t.find(".info_inner"),Fa=t.find(".preloader");t.find(".playlistControls");var Ye,Ze,P,pa,dc,jc=[],Se,Ef,$c=!1,Ib,Wd,ub=[],Gc=[],Me,mh=100,vb,dh=hap_source_path+n.buttonsUrl.thumbnailPreloaderUrl, Ba,Qc=!1,Hb,ya,Ya,Ac,Cd,De,Y=[],Ec=[],Ud=[],hc,ec,Mb,Cb=isMobile?!1:n.useContextMenu,T=n.media_id,Rc="/main/",Gd=n.previewPath,Xg=n.wallPath;"icons"==Bd&&(W=!1);W||(t.find(".youtubeIframePreview").remove(),k(Qa).remove());var cb=n.autoPlay,Od=n.autoPlay,Ue=n.autoPlay;isMobile&&(Od=cb=!1);var sh=n.autoAdvanceToNextVideo,yf=isMobile?!1:n.autoHideControls,Ah=n.autoOpenDescription,fa=n.playlistOrientation,jb=n.scrollType,fe=n.randomPlay,ge=n.loopingOn,ah=n.autoMakePlaylistThumb,Mf=n.autoMakePlaylistInfo, rb=n.useWebmVideoFormat,db=n.aspectRatio,be=n.layout100perc,ag=n.useYoutubeHighestQuality,ib=n.tooltips?isMobile?!1:n.tooltips.useTooltips:!1,gh=n.autoReuseMailForDownload;Oc&&ga.css("display","none");var uc,zg,we=!1;if("wall"==v||"wall_popup"==v)uc=-1;isMobile&&(db=1);isiPhoneIpod&&($a.remove(),Ea.remove(),Ob.remove(),k(n.dropdown_id).remove(),k("#videoSearch").remove(),t.after(Pd.css({position:"relative","float":"left",clear:"both",left:0,top:0})));var H=[],sa,Hf,x=!1,Sc=!1,cc=!1,Zd,bc,Wc,Z,Kb, Na=-1,Ja=-1,na=[],ja,Tc=!1,zd,Ad,Ff,Gf,Pa,Df,Oa,Fe,sb,Uc,jf=0,ee=!1,rg=!1;Mh()?ee=!0:be&&(rg=!0,t.find(".player_fullscreen").remove());isIOS&&t.find(".player_volume_wrapper").remove();var Lh=t.find(".player_toggleControl").outerWidth(!0),Eh=t.find(".player_mediaTime_current").outerWidth(!0),Fh=t.find(".player_mediaTime_total").outerWidth(!0),Gh=t.find(".player_volume_wrapper").outerWidth(!0),Hh=t.find(".player_fullscreen").outerWidth(!0),Ih=t.find(".player_captions").outerWidth(!0),Jh=t.find(".player_quality").outerWidth(!0), Kh=t.find(".player_download").outerWidth(!0),Af="youtube_playlist youtube_user_favourites youtube_user_uploads youtube_video_query youtube_related_video_query youtube_playlist_query youtube_user_playlists youtube_channel_query youtube_standard_feed".split(" "),A,ka,da=0,Ma=[],Te=!1,Xe=!1,rh=!0,Za=50,xa,ob,qb,ma,ed,Pb,id,Qe,yb,cf="Off",Xd,lc,jd,aa=!1,wb,tb,Ie,Aa=!1,xc,Gb,Bh=n.closeRemovesEvents,Jd=100,ua,lg=100,Hc,Cf=!1,hd=n.controlsTimeout,oa,bg=100,ab,Jb=[],$b=[],ta=[],Ed=[],Dd=[],J=0,eb,fb,F,Ka= "normal",Ra,z,Lb=!1,kc,pc,qc,Vb,Wb,ba,sc=50,I,L;"list"==v&&"buttons"==jb&&(L=Xb,Ta&&Jg());var Ag=[af,t.find(".ap_share_btn"),Re,t.find(".player_volume"),t.find(".player_fullscreen"),Sd,t.find(".player_prev"),t.find(".player_next")],Bg,Qh=Ag.length,he=0;for(he;he<Qh;he++)Bg=k(Ag[he]).css("cursor","pointer").bind("click",fh),isMobile||Bg.bind("mouseenter",ih).bind("mouseleave",jh);if(Cb){var Ab='<div class="ap-context-menu"><ul><li class="ap-context-play"><span>Play</span></li><li class="ap-context-mute"><span>Mute</span></li><li class="ap-context-full"><span>Fullscreen</span></li>'; R(n.contextMenuText)||(Ab+='<li class="ap-context-copyright"><span>'+n.contextMenuText+"</span></li>");var Ab=Ab+"</ul></div>",Ab=k(Ab).appendTo(Sb),bf=k(".ap-context-play").css("cursor","pointer").on("click",Sa),vg=k(".ap-context-full").css("cursor","pointer").on("click",Sf),rf=k(".ap-context-mute").css("cursor","pointer").on("click",function(){me();Mc()});if(!R(n.contextMenuLink))k(".ap-context-copyright").css("cursor","pointer").on("click",D);cb||bf.find("span").html("Play");V.bind("contextmenu", zb);Sb.on("mouseleave",Ia);va.bind("contextmenu",Ia).keyup(function(a){27==a.keyCode&&Ia()})}var Tb=!1,sg,tg,wa,ug=30;Ub.css("cursor","pointer").bind(rc,function(a){if(pa&&nc)return!1;kd(a);return!1});if(!isMobile){var Kc=t.find(".player_progress_tooltip").css({left:parseInt(Ub.css("left"),10)+"px",zIndex:302});Ub.bind("mouseover",Gg)}var qd=!0,M=n.defaultVolume,pd;0>M&&(M=0);0==M?pd=.5:1<M&&(M=1);0!=M&&(pd=M);var Ic=!1,oc=le.height();qf.css("height",M*oc+"px");var Lc=!1,ea,rd=3E3;isMobile?ff.bind("click", function(){if(!u)return!1;ea&&clearTimeout(ea);return!1}):ff.bind("mouseover",function(){if(!u)return!1;ea&&clearTimeout(ea);Ua.css("display","block");Lc=!0;return!1}).bind("mouseout",function(){if(!u)return!1;ea&&clearTimeout(ea);ea=setTimeout(od,rd);return!1});0==M&&t.find(".player_volume").find("i").removeClass("fa-volume-up ap_vol_on ap_vol").addClass("fa-volume-off ap_mute");Ua.css("cursor","pointer").bind(rc,function(a){Hg(a);return!1});if(!isMobile){Ua.bind("mouseover",ne);var Db=Da.find(".player_volume_tooltip"), Ig=parseInt(Db.css("top"),10);Db.bind("mouseenter",function(){Ua.unbind("mouseover",ne);Db.css("display","none")}).bind("mouseleave",function(){Ua.bind("mouseover",ne)})}O||(Vc=!0);var zf,Fb=!1,tf=[];k("#ap_api_num_res");var Cg=k("#ap_api_query_title"),Dg=k("#ap_api_query_v").focusin(function(){Cg.removeClass("ap_hap_error")}),Rh=k("#ap_api_limit_v").on("keyup.ap",Dh),Sh=k("#ap_api_youtube_sort_v"),Eg=k("#api_panel_wrap"),Be=k("#ap_api_append"),Fg=k(".toggle_search"),Th=k("#ap_api_youtube_feature_v"), Uh=k("#ap_api_path_title_v"),lf;k("#api_panel_title_wrap").css("cursor","pointer").bind("click",function(a){if(!u||x)return!1;lf?(Eg.hide(400),Fg.removeClass("toggle_search_close").addClass("toggle_search"),lf=!1):(Eg.show(400),Fg.removeClass("toggle_search").addClass("toggle_search_close"),lf=!0);return!1});k("#ap_api_execute").find("span").css("cursor","pointer").bind("click",function(a){if(!u||x)return!1;if(R(Dg.val()))return Cg.addClass("ap_hap_error"),alert("Please fill missing fields!"),!1; da=0;Ma=[];Y=[];a={fromapi:!0,type:"youtube_video_query"};a.path=a.id=Uh.val();a.sort=Sh.val();a.limit=parseInt(Rh.val(),10);a.query=De=Dg.val();U&&(a.deeplink=Th.val());Y.push(a);if("yes"!=Be.find('input:radio[name="ap_api_append"]:checked').val()&&(yd(),U)){ra=null;ud=!1;tc=null;a=0;var k=ha.length;for(a;a<k;a++)ha[a]&&ha[a].fromapi&&ha.splice(a,1)}J=Y.length;Fb=!0;Fa.css("display","block");xd();return!1});var B=k.playlistManager({randomPlay:fe,loopingOn:ge});k(B).bind("ap_PlaylistManager.COUNTER_READY", function(){Xc();zg=B.getCounter();U?Eb?(Eb=!1,te(),vc()):(k.address.value(Ng(B.getCounter())),k.address.history()||k.address.history(!0)):(te(),vc())}).bind("ap_PlaylistManager.PLAYLIST_END",function(){"undefined"!==typeof videoPlayerPlaylistEnd&&videoPlayerPlaylistEnd(Q,T)}).bind("ap_PlaylistManager.PLAYLIST_END_ALERT",function(){"undefined"!==typeof videoPlayerPlaylistEnd&&videoPlayerPlaylistEnd(Q,T)});var ha=[],mf;yc.children("div[data-address]").each(function(){var a={};mf=k(this);a.categoryName= mf.attr("data-address");a.id=mf.attr("id");ha.push(a)});var If=ha.length+1,U=n.useDeeplink;if("wall"==v||"wall_popup"==v)U=!1;if(U){k.address.strict();var Pc,ud=!1,tc,vd,Va,Eb=!1,se=!1,kb,qe,lb=n.activePlaylist;R(lb)||R(n.activeItem)||(lb+="/"+n.activeItem);var ra,wd,Nc;k.address.internalChange(function(a){a.stopPropagation();td(a)});k.address.externalChange(function(a){a.stopPropagation();qe=a;x?(kb&&clearTimeout(kb),Nc&&clearInterval(Nc),Nc=setInterval(Lg,100)):se?(kb&&clearTimeout(kb),kb=setTimeout(Mg, 500)):"/"==a.value?(Eb=!0,k.address.history(!1),R(lb)||(k.address.value(lb),k.address.history()||k.address.history(!0))):R(a.value)?(Eb=!0,k.address.history(!1),R(lb)||(k.address.value(lb),k.address.history()||k.address.history(!0))):td(a)})}else sa=n.activePlaylist,R(sa)?wc():Yb();this.flashPreviewVideoStart2=function(){sb&&sb.css("display","none")};this.flashPreviewVideoStart=function(){ua&&clearInterval(ua);ua=setInterval(Fd,Jd)};this.flashVideoPause=function(){Zc()};this.flashVideoResume=function(){Fc()}; this.flashVideoEnd=function(){Yc()};this.flashVideoStart=function(){aa=!0;Fc();mb();Mb||Ve()};this.dataUpdateFlash=function(a,k,m,p){Vd.width(a/k*wa);Jc.width(m/p*wa);cd.html(md(m));dd.html(nd(p));(jc&&jc.length||"undefined"!==typeof yb&&yb.length)&&m!=Wd&&dg(parseInt(m,10));pa&&ad&&null!=bb&&!fc&&(parseInt(m,10)<bb?gc.find("p").html(eg+" "+(bb-parseInt(m,10)).toString()):(fc=!0,Md.hide(),gc.hide(),Nd.show(),nc=!1))};"list"==v&&gd.resize(function(){if(!u||x)return!1;ue()});isMobile&&gd.doubletap(function(){setTimeout(function(){clearTimeout(k(this)); ue()},500)});isMobile&&va.bind("touchend.ap2",function(a){"fullscreen"==Ka&&(oa&&clearTimeout(oa),xe(),oa=setTimeout(function(){clearTimeout(oa);ef()},hd))});if("list"==v&&ee)va.on("fullscreenchange mozfullscreenchange MSFullscreenChange webkitfullscreenchange",function(a){"fullscreen"==Ka&&0<jf&&(Ka="normal",$d(),Cb&&Ia());jf=1});this.playMedia=function(){if(!u||x||!F||Aa)return!1;"local"==F?Sa():"youtube"==F&&A&&A.play();Aa=!0};this.pauseMedia=function(){if(!u||x||!F||!Aa)return!1;"local"==F?Sa(): "youtube"==F&&A&&A.pause();Aa=!1};this.checkMedia=function(a){if(!u||x||!F)return!1;a=a.toLowerCase();Aa&&"pause"==a&&("local"==F?Sa():"youtube"==F&&A&&A.pause(),Aa=!1)};this.togglePlayBack=function(){if(!u||x||"wall"==v||"wall_popup"==v||!F)return!1;Sa()};this.nextMedia=function(){if(!u||x||!Z||"wall"==v||"wall_popup"==v)return!1;Le()};this.previousMedia=function(){if(!u||x||!Z||"wall"==v||"wall_popup"==v)return!1;u&&(Wa(),B.advanceHandler(-1,!0))};this.setAutoPlay=function(a){if(!u)return!1;Bc(a)}; this.getAutoPlay=function(){return u?cb:!1};this.getVolume=function(){return!u||x?!1:M};this.setVolume=function(a){if(!u||x||"wall"==v||"wall_popup"==v||!aa)return!1;0>a?a=0:1<a&&(a=1);M=a;Mc()};this.toggleShuffle=function(){if(!u||x)return!1;fe=fe?!1:!0;B.setRandom(fe)};this.toggleLoop=function(){if(!u||x)return!1;ge=ge?!1:!0;B.setLooping(ge)};this.seek=function(a){if(!u||x)return!1;if("local"==F)if(O){if(aa)try{z.currentTime=a}catch(k){}}else"undefined"!==typeof E(K)&&E(K).pb_seek(a);else"youtube"== F&&(O?A&&A.seek(a):"undefined"!==typeof E(K)&&E(K).pb_seek(a))};this.destroyMedia=function(){if(!u||x||"wall"==v||"wall_popup"==v)return!1;vf()};this.destroyPlaylist=function(){if(!u||x)return!1;yd();sa=Z=null};this.toggleDescription=function(){if(!u||x||"wall"==v||"wall_popup"==v||-1==B.getCounter()||R(H[B.getCounter()].description))return!1;Je()};this.getTitle=function(a){if(!u||x)return!1;a=xf(a);return H[a]?H[a].title:null};this.getDescription=function(a){if(!u||x)return!1;a=xf(a);return H[a]? H[a].description:null};this.loadMedia=function(a){if(!u||x)return!1;if("list"==v)if(U)if("string"===typeof a)k.address.value(a);else return alert("Invalid value loadMedia Deeplink!"),!1;else if("number"===typeof a){if(!Z)return!1;0>a?a=0:a>J-1&&(a=J-1);Wa();B.processPlaylistRequest(a)}else if("string"===typeof a){if(sa==a)return!1;sa=a;Yb()}else return alert("Invalid value loadMedia no Deeplink!"),!1;else if("number"===typeof a)0>a?a=0:a>J-1&&(a=J-1),Wa(),B.processPlaylistRequest(a);else if("string"=== typeof a){if(sa==a)return!1;sa=a;Yb()}else return alert("Invalid value loadMedia Wall Layout!"),!1};this.addTrack=function(a,l,m,p){if(!u||x)return!1;if("undefined"===typeof a)return alert("addTrack method requires format parameter. AddTrack failed."),!1;if("undefined"===typeof l)return alert("addTrack method requires track parameter. AddTrack failed."),!1;Ac=!1;"undefined"!==typeof m&&(Ac=m);m=1;var n=!1;if("string"!==typeof l&&"[object Object]"!==Object.prototype.toString.call(l))if("[object Array]"=== Object.prototype.toString.call(l))m=l.length,n=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;ya=p;Hb=!1;Ya=!0;if(Z)if("undefined"!==typeof ya){if(0>ya||ya>J)return alert('Invalid position to insert track to. Position number "'+p+'" doesnt exist. AddTrack failed.'),!1;ya==J&&(Hb=!0)}else Hb=!0,ya=J;else{if("undefined"!==typeof ya){if(0!=ya)return alert('Invalid position to insert track to. Position number "'+p+'" doesnt exist. AddTrack failed.'), !1}else ya=0;Hb=!0}x=!0;Fa.css("display","block");Qc=!1;Fb=!0;da=0;Ma=[];Y=[];p=0;var r;for(p;p<m;p++)if(r=n?l[p]:l,"html"==a){r=k(r);var q=void 0,t=void 0,q=void 0,q=k("<div>").append(r.clone()).html(),t=document.createElement("div");t.innerHTML=q;q=t.firstChild;r=k(q);r=Ae(r);Y.push(r)}J=Y.length;Cd=!1;Z||(Cd=!0);Z=zc;xd()};this.removeTrack=function(a){if(!u||x||!Z)return!1;if("undefined"===typeof a)return alert("removeTrack method requires track parameter. removeTrack failed."),!1;if(k.isNumeric(a))if(k.isNumeric(a)){if(a= parseInt(a,10),0>a||a>J-1)return alert('Invalid track number. Track number "'+a+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method requires either a track number or a track title to remove. removeTrack failed."),!1;else{var m=0,n=!1;for(m;m<J;m++)if(a==H[m].title){a=m;n=!0;break}if(!n)return alert('Track with name "'+track+'" doesnt exist. RemoveTrack failed.'),!1}H[a]?(Ee(a),"list"==v&&(Of(),pe()),J=H.length,0<J?(m=B.getCounter(),a==m?(Xc(),B.setPlaylistItems(J)):(B.setPlaylistItems(J, !1),a<m&&B.reSetCounter(B.getCounter()-1))):(yd(),Z=null,"undefined"!==typeof playlistEmpty&&playlistEmpty(Q,T))):alert('RemoveTrack with id "'+a+'" failed.')};this.cleanPreviewVideo=function(){if(!u||x||!W)return!1;X()};this.getMediaCount=function(){return!u||x?!1:ye(J)?J:0};this.getMediaId=function(){return u?T:!1};this.getMediaPlaying=function(){return!u||x?!1:Aa};this.getPlaylistTransition=function(){return x};this.getPlaylistLoaded=function(){return Qc};this.getVideoInited=function(){return!u|| x?!1:aa};this.getSetupDone=function(){return u};this.getPlaylistList=function(){return!u||x?!1:yc};this.getActiveItem=function(){return!u||x?!1:zg};this.setActiveItem=function(a){if(!u||x)return!1;uc=a};this.getActivePlaylist=function(){return!u||x?!1:Hf};this.getPlaylistData=function(){return u&&!x&&Z?H:!1};this.setPlaylistData=function(a){if(!u||x||!a)return!1;H=jQuery.extend(!0,[],a);J=H.length};this.getSettings=function(){return!u||x?!1:n?n:null};this.getPlaylist=function(){return!u||x?!1:G}; this.cleanYt=function(){if(!u||x)return!1;A&&(k(A).unbind(),A.clean(),A=null);Te=!1};this.skipIntro=function(){if(!u||x||!pa||bb&&!fc)return!1;dc=!0;isMobile||Bc(!0);vc();return!1};this.removePlaylistItem=function(a){if(!u||x)return!1;a&&a.parent().attr("data-id")&&(a=parseInt(a.parent().attr("data-id"),10),H&&H[a]&&Ee(a))};this.getIsMobile=function(){return isMobile};var ve;k(n.dropdown_id).find(".lp_playlist").length&&(ve=isMobile?k(n.dropdown_id).find(".lp_playlist").change(function(){var a=k(this).val(); n.useDeeplink&&wg(a);Q.loadMedia(a)}):k(n.dropdown_id).find(".lp_playlist").selectbox({onChange:function(a,k){n.useDeeplink&&(a=wg(a));Q.loadMedia(a)}}));return this}}})(jQuery); (function(k){function n(m){function n(m){D.playerReady=!0;k(D).trigger("ap_YoutubePlayer.YT_READY");"undefined"!==typeof D._player.setVolume&&D._player.setVolume(100*D._defaultVolume);D._autoPlay&&D._player.playVideo()}function Ga(m){k(D).trigger("ap_YoutubePlayer.QUALITY_CHANGE",[m.data])}function S(m){if(D.forceMainStop&&(D.forceMainStop=!1,"undefined"!==typeof D._player.stopVideo)){D._player.stopVideo();k(D).trigger("ap_YoutubePlayer.FORCE_MAIN_STOP");return}-1!=m.data&&(0==m.data?D.isIE?k(D).trigger("ap_YoutubePlayer.END_PLAY"): D.singleVideo||k(D).trigger("ap_YoutubePlayer.END_PLAY"):1==m.data?(D._initialAutoplaySet||(D._autoPlay=!0,D._initialAutoplaySet=!0),D.small_embed&&"undefined"!==typeof D._player.setVolume&&D._player.setVolume(0),D.forcePreviewStop&&"undefined"!==typeof D._player.stopVideo&&D._player.stopVideo(),D._inited||(k(D).trigger("ap_YoutubePlayer.START_PLAY"),D._inited=!0,!D.small_embed&&D.quality&&!0==D.quality&&"undefined"!==typeof D._player.getAvailableQualityLevels&&D._player.getAvailableQualityLevels()[0]&& D._player.setPlaybackQuality(D._player.getAvailableQualityLevels()[0]),D.small_embed&&D._player.setPlaybackQuality(D._player.getAvailableQualityLevels()[D._player.getAvailableQualityLevels().length-1])),k(D).trigger("ap_YoutubePlayer.STATE_PLAYING")):2==m.data?k(D).trigger("ap_YoutubePlayer.STATE_PAUSED"):5==m.data&&k(D).trigger("ap_YoutubePlayer.STATE_CUED"))}function Ha(m){k(D).trigger("ap_YoutubePlayer.ERROR_HANDLER",[m.data])}var D=this;"undefined"!==typeof k.videoGallery&&"undefined"!==typeof k.videoGallery.getSingleVideo&& "undefined"!==typeof k.videoGallery.getLooping&&k.videoGallery.getLooping()&&"undefined"!==typeof k.videoGallery.getAutoplay&&k.videoGallery.getAutoplay()&&(this.singleVideo=k.videoGallery.getSingleVideo());this.isIE=m.isIE?m.isIE:!1;this.isMobile=m.isMobile;this.initialAutoplay=m.initialAutoplay;this._inited=this._initialAutoplaySet=!1;this._player;this._autoPlay=m.autoPlay;this._defaultVolume=m.defaultVolume;this._youtubeHolder=m.youtubeHolder;this._frameId="ytplayer"+Math.floor(16777215*Math.random()); m.quality&&(this.quality=m.quality);m.small_embed&&(this.small_embed=m.small_embed);this.lastID;this.playerReadyInterval=100;this.playerReadyIntervalID;this.playerReady=!1;var zb=m.youtubeChromeless,Ia="&amp;rel=0";this.forcePreviewStop=this.forceMainStop=!1;this.yt_preview_inited;this.isFirefox="MozBoxSizing"in document.documentElement.style;zb?this.small_embed?zb="http://www.youtube.com/embed/"+m.mediaPath+"?controls=0&amp;showinfo=0&amp;enablejsapi=1&amp;wmode=transparent":(zb="http://www.youtube.com/embed/"+ m.mediaPath+"?controls=0&amp;showinfo=0"+Ia+"&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent",this.singleVideo&&!this.isIE&&(zb="http://www.youtube.com/embed/"+m.mediaPath+"?controls=0&amp;showinfo=0&amp;autoplay=1&amp;loop=1"+Ia+"&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent")):zb="http://www.youtube.com/embed/"+m.mediaPath+"?rel=0&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent";this.youtubeVideoIframe=k("<iframe />",{frameborder:0,src:zb,width:"100%",height:"100%",id:this._frameId, webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0});this._youtubeHolder.css("display","block").append(this.youtubeVideoIframe);this.small_embed&&!this.yt_preview_inited&&(this._youtubeHolder.css("left",-this._youtubeHolder.width()+5+"px"),this.yt_preview_inited=!0);m=document.createElement("script");m.src="http://www.youtube.com/iframe_api";Ia=document.getElementsByTagName("script")[0];Ia.parentNode.insertBefore(m,Ia);var kd=setInterval(function(){window.YT&&window.YT.Player&&(kd&& clearInterval(kd),D._player=new YT.Player(D._frameId,{events:{onReady:n,onPlaybackQualityChange:Ga,onStateChange:S,onError:Ha}}))},100);window.onYouTubeIframeAPIReady=function(){}}k.youtubePlayer=function(k){return new n(k)};n.prototype={clean:function(){this._player&&("undefined"!==typeof this._player.stopVideo&&this._player.stopVideo(),this._player=null);this.youtubeVideoIframe&&(this.youtubeVideoIframe.attr("src",""),this.youtubeVideoIframe.remove(),this.youtubeVideoIframe=null)},stopPreview:function(){this.forcePreviewStop= !0},initVideo:function(k){this.forceMainStop=!1;if(this.playerReady)this._player&&(this._inited=this.forcePreviewStop=!1,this._autoPlay?"undefined"!==typeof this._player.loadVideoById&&this._player.loadVideoById(k):"undefined"!==typeof this._player.cueVideoById&&this._player.cueVideoById(k));else{var n=this;this.lastID=k;this.playerReadyIntervalID||(this.playerReadyIntervalID=setInterval(function(){n.playerReady&&(n.playerReadyIntervalID&&clearInterval(n.playerReadyIntervalID),n.forceMainStop||n.initVideo(n.lastID))}, this.playerReadyInterval))}},stop:function(){this.forceMainStop=!0;this._player&&"undefined"!==typeof this._player.stopVideo&&this._player.stopVideo()},play:function(){this._player&&"undefined"!==typeof this._player.playVideo&&this._player.playVideo()},pause:function(){this._player&&"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo()},togglePlayback:function(k){if(this._player)if(void 0==k){if("undefined"===typeof this._player.getPlayerState)return!1;k=this._player.getPlayerState(); 1==k?"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo():2==k?"undefined"!==typeof this._player.playVideo&&this._player.playVideo():-1!=k&&5!=k&&0!=k||"undefined"===typeof this._player.playVideo||this._player.playVideo()}else k?"undefined"!==typeof this._player.playVideo&&this._player.playVideo():"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo()},seek:function(k){this._player&&"undefined"!==typeof this._player.seekTo&&this._player.seekTo(k)},isMuted:function(){if(this._player&& "undefined"!==typeof this._player.isMuted)return this._player.isMuted()},getDuration:function(){if(this._player&&"undefined"!==typeof this._player.getDuration)return this._player.getDuration()},getCurrentTime:function(){if(this._player&&"undefined"!==typeof this._player.getCurrentTime)return this._player.getCurrentTime()},getVideoLoadedFraction:function(){if(this._player&&"undefined"!==typeof this._player.getVideoLoadedFraction)return this._player.getVideoLoadedFraction()},getVideoBytesLoaded:function(){if(this._player&& "undefined"!==typeof this._player.getVideoBytesLoaded)return this._player.getVideoBytesLoaded()},getVideoBytesTotal:function(){if(this._player&&"undefined"!==typeof this._player.getVideoBytesTotal)return this._player.getVideoBytesTotal()},setVolume:function(k){0>k?vol=0:1<k&&(k=1);this._player&&"undefined"!==typeof this._player.setVolume&&this._player.setVolume(100*k)},getPlayerState:function(){if(this._player&&"undefined"!==typeof this._player.getPlayerState)return this._player.getPlayerState()}, setAutoPlay:function(k){this._autoPlay=k},getQualityLevels:function(){return this._player.getAvailableQualityLevels()},getCurrQuality:function(){return this._player.getPlaybackQuality()},setPlaybackQuality:function(k){this._player.setPlaybackQuality(k)}}})(jQuery); (function(k){function n(k){this._loopingOn=k.loopingOn;this._randomPlay=k.randomPlay;this._playlistItems;this._lastInOrder=!1;this._counter=-1;this._lastPlayedFromPlaylistClick;this._lastRandomCounter;this._traceCounter=this._randomPaused=!1;this._randomArr=[];this._playlistSelect=!1}k.playlistManager=function(k){return new n(k)};n.prototype={setCounter:function(k,n){"undefined"===typeof n&&(n=!0);this._counter=n?this._counter+parseInt(k,10):parseInt(k,10);this._checkCounter()},getCounter:function(){return this._randomPlay? this._playlistSelect?this._counter:this._randomArr[this._counter]:this._counter},advanceHandler:function(k){this._playlistSelect=!1;this._randomPaused?this._handleRandomPaused(k):this.setCounter(k)},processPlaylistRequest:function(k){this._playlistSelect=!1;this._randomPlay&&(this._playlistSelect=!0,this._lastPlayedFromPlaylistClick=k,this._randomPaused||(this._lastRandomCounter=this._counter,this._randomPaused=!0));this.setCounter(k,!1)},getLastInOrder:function(){return this._lastInOrder},getRandomPaused:function(){return this._randomPaused}, setPlaylistItems:function(k,n){"undefined"===typeof n&&(n=!0);n&&(this._counter=-1);this._playlistItems=k;this._randomPlay&&this._makeRandomList()},reSetCounter:function(k){"undefined"===typeof k?this._counter=-1:(k=parseInt(k,10),this._playlistItems?(k>this._playlistItems-1?k=this._playlistItems-1:0>k&&(k=0),this._counter=k):this._counter=-1)},setRandom:function(k){(this._randomPlay=k)&&this._makeRandomList();this._randomChange()},setLooping:function(k){this._loopingOn=k},setTraceCounter:function(k){this._traceCounter= k},_handleRandomPaused:function(m){var n=k(this);this._randomPaused=!1;this._lastRandomCounter+m>this._playlistItems-1?(this._counter=this._playlistItems-1,n.trigger("ap_PlaylistManager.COUNTER_READY")):0>this._lastRandomCounter+m?(this._counter=0,n.trigger("ap_PlaylistManager.COUNTER_READY")):this.setCounter(this._lastRandomCounter+m,!1)},_randomChange:function(){this._randomPlay?(this._activeIndexFirst(),this._counter=0):this._randomPaused?(this._counter=this._lastPlayedFromPlaylistClick,this._randomPaused= !1):this._counter=this._randomArr[this._counter]},_checkCounter:function(){if(isNaN(this._counter))alert("ap_PlaylistManager message: No active media, counter = "+this._counter);else{var m=k(this);this._lastInOrder=!1;this._loopingOn?(this._randomPlay?this._counter>this._playlistItems-1?(this._counter=this._randomArr[this._playlistItems-1],this._makeRandomList(),this._firstIndexCheck(),this._counter=0,m.trigger("ap_PlaylistManager.PLAYLIST_END_ALERT")):0>this._counter&&(this._counter=this._randomArr[0], this._makeRandomList(),this._lastIndexCheck(),this._counter=this._playlistItems-1):this._counter>this._playlistItems-1?(this._counter=0,m.trigger("ap_PlaylistManager.PLAYLIST_END_ALERT")):0>this._counter&&(this._counter=this._playlistItems-1),m.trigger("ap_PlaylistManager.COUNTER_READY")):(this._counter>this._playlistItems-1?(this._counter=this._playlistItems-1,this._lastInOrder=!0):0>this._counter&&(this._counter=0),this._lastInOrder?m.trigger("ap_PlaylistManager.PLAYLIST_END"):m.trigger("ap_PlaylistManager.COUNTER_READY")); this._traceCounter&&console.log("counter = "+this.getCounter())}},_makeRandomList:function(){3>this._playlistItems||(this._randomArr=this._randomiseIndex(this._playlistItems))},_firstIndexCheck:function(){if(this._randomArr[0]==this._counter){var k=this._randomArr.splice(0,1);this._randomArr.push(k)}},_lastIndexCheck:function(){if(this._randomArr[this._playlistItems-1]==this._counter){var k=this._randomArr.splice(this._playlistItems-1,1);this._randomArr.unshift(k)}},_activeIndexFirst:function(){var k= 0,n=this._randomArr.length;for(k;k<n;k++)if(this._randomArr[k]==this._counter){if(0==k)break;k=this._randomArr.splice(k,1);this._randomArr.unshift(parseInt(k,10));break}},_randomiseIndex:function(k){var n=[],Ga=[],S=0;for(S;S<k;S++)n[S]=S;var S=0,Ha;for(S;S<k;S++)Ha=Math.round(Math.random()*(n.length-1)),Ga[S]=n[Ha],n.splice(Ha,1);return Ga}}})(jQuery);function isReady(){return"complete"===document.readyState} function flashVideoEnd(k){hap_players&&hap_players[k.id]&&hap_players[k.id].flashVideoEnd()}function flashVideoStart(k){hap_players&&hap_players[k.id]&&hap_players[k.id].flashVideoStart()}function flashVideoPause(k){hap_players&&hap_players[k.id]&&hap_players[k.id].flashVideoPause()}function flashVideoResume(k){hap_players&&hap_players[k.id]&&hap_players[k.id].flashVideoResume()}function dataUpdateFlash(k){hap_players&&hap_players[k.id]&&hap_players[k.id].dataUpdateFlash(k.bl,k.bt,k.t,k.d)} function flashPreviewVideoStart(k){hap_players&&hap_players[k.id]&&hap_players[k.id].flashPreviewVideoStart()}function flashPreviewVideoStart2(k){hap_players&&hap_players[k.id]&&hap_players[k.id].flashPreviewVideoStart2()} var vplp_tracks_list=['<div class="playlistNonSelected" data-address="local1" data-type="local" data-mp4-high="../media/video/1/main/01.mp4" data-mp4="../media/video/1/main/01.mp4" data-mp4-low="../media/video/1/main/01.mp4" data-ogv-high="../media/video/1/main/01.ogv" data-ogv="../media/video/1/main/01.ogv" data-ogv-low="../media/video/1/main/01.ogv" data-preview="../media/video/1/main/01.jpg" data-download="../media/video/1/main/01.mp4" data-description="<span class=\'infoTitle\'>Nulla mauris justo</span><br/><br/>Ullamcorper nec, sollicitudin a, blandit ut, metus. Ut quis velit. Maecenas magna dui, laoreet ac, malesuada quis, blandit vitae, leo. Mauris blandit mollis Pellentesque aliquam fermentum leo. Proin placerat sollicitudin nisi. Sed at diam eu nisl feugiat tempor. Pellentesque non leo.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'http://codecanyon.net/user/Tean\' target=\'_blank\'>Link</a>"><div class="playlistThumb"><img class="thumb" src="../media/video/1/preview/01.jpg" alt=""/></div><div class="playlistInfo"><p><span class="playlistTitle">Video title goes here</span><br><span class="playlistContent">Commodo vitae, commodo in, tempor eu, urna. Etiam justo ipsum maecenas nec tellus.</span></p></div>\x3c!-- video advert --\x3e<div class="ap_adv" data-type="local" data-mp4="../media/video/advert/01.mp4" data-ogv="../media/video/advert/01.ogv" data-preview="../media/video/advert/01.jpg"></div>\x3c!-- captions --\x3e<div class="subtitles" data-src="data/captions/captions.xml"></div>\x3c!-- timed elements --\x3e<div class="ap_elem" id="elem1" data-show data-hide="3"><p>Timed Event from 0 to 3 seconds<br><a href="http://codecanyon.net/user/Tean" target="_blank">Some link</a></p><a class="ap_el_close crb apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem2" data-show="1" data-hide="3"><p>Timed Event 1 to 3 seconds</p><a class="ap_el_close crt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem3" data-show="3" data-hide="14"><p>Event from 3 to 14 seconds<br><a href="http://codecanyon.net/user/Tean" target="_blank">Some link</a></p><a class="ap_el_close clb apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem4" data-show="5" data-hide="8"><p>Timed Event 5 to 8 seconds<br>Any HTML</p><a class="ap_el_close clt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem5" data-show="25" data-hide><p>Timed Event from 25 till end</p><a class="ap_el_close clt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem6" data-show data-hide><p>Timed Event displayed through whole video<br><a href="http://www.google.com" target="blank">Some link</a></p><a class="ap_el_close crt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div></div>','<div class="playlistNonSelected" data-address="youtube_single1" data-type="youtube_single" data-path="F08U2yCxbYg" data-download="../media/video/1/main/01.mp4">\x3c!-- video advert --\x3e<div class="ap_adv" data-type="local" data-mp4="../media/video/advert/02.mp4" data-ogv="../media/video/advert/02.ogv" data-preview="../media/video/advert/02.jpg"></div>\x3c!-- captions --\x3e<div class="subtitles" data-src="data/captions/captions.xml"></div>\x3c!-- timed elements --\x3e<div class="ap_elem" id="elem1" data-show data-hide="3"><p>Timed Event from 0 to 3 seconds<br><a href="http://codecanyon.net/user/Tean" target="_blank">Some link</a></p><a class="ap_el_close crb apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem2" data-show="1" data-hide="3"><p>Timed Event 1 to 3 seconds</p><a class="ap_el_close crt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem3" data-show="3" data-hide="14"><p>Event from 3 to 14 seconds<br><a href="http://codecanyon.net/user/Tean" target="_blank">Some link</a></p><a class="ap_el_close clb apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem4" data-show="5" data-hide="8"><p>Timed Event 5 to 8 seconds<br>Any HTML</p><a class="ap_el_close clt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem5" data-show="25" data-hide><p>Timed Event from 25 till end</p><a class="ap_el_close clt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div><div class="ap_elem" id="elem6" data-show data-hide><p>Timed Event displayed through whole video<br><a href="http://www.google.com" target="blank">Some link</a></p><a class="ap_el_close crt apctooltip" data-aptitle="Close"><img src="data/close-btn.png" alt=""/></a></div></div>', '<div class="playlistNonSelected" data-address="youtube_single3" data-type="youtube_single" data-path="jXSxzMTrKq0" data-download="../media/video/1/main/02.mp4"></div>',' <div class="playlistNonSelected" data-address="youtube_single4" data-type="youtube_single" data-path="NY-4XAQR_uk" data-download="../media/video/1/main/03.mp4"></div>','<div class="playlistNonSelected" data-address="youtube_single5" data-type="youtube_single" data-path="Ga3_ANRHoAI" data-download="../media/video/1/main/04.mp4"></div>'], vplp_tracks_wall_clear="<div class='playlistNonSelected' data-hook='fancybox-gallery1' data-link='http://vimeo.com/14665315' data-type='local' data-mp4='../media/video/1/wall/01.mp4' data-ogv='../media/video/1/wall/01.ogv' data-webm='../media/video/1/wall/01.webm' data-description='Sed at diam eu nisl feugiat tempor.'><div class='playlistThumb'><img class='thumb' src='../media/video/1/wall/01.jpg' alt=''/></div><div class='playlistInfo'><p><span class='playlistTitle'>A vimeo video from envato</span></p></div></div>;<div class='playlistNonSelected' data-hook='fancybox-gallery1' data-link='http://www.youtube.com/watch?v=F08U2yCxbYg' data-type='local' data-mp4='../media/video/1/wall/02.mp4' data-ogv='../media/video/1/wall/02.ogv' data-webm='../media/video/1/wall/02.webm' data-description='Nunc auctor gravida odio.'><div class='playlistThumb'><img class='thumb' src='../media/video/1/wall/02.jpg' alt=''/></div><div class='playlistInfo'><p><span class='playlistTitle'>Some youtube video</span></p></div></div>;<div class='playlistNonSelected' data-hook='fancybox-gallery1' data-link='http://vimeo.com/14665315' data-type='youtube_single' data-path='QeR47AQ05Jo' ></div>;<div class='playlistNonSelected' data-hook='fancybox-gallery1' data-link='http://www.youtube.com/watch?v=F08U2yCxbYg' data-type='youtube_single' data-path='E6-La1pz1SU' ></div>;<div class='playlistNonSelected' data-weblink='http://www.google.com' data-type='youtube_single' data-path='gOC15Atu39U' ></div>;<div class='playlistNonSelected' data-type='youtube_single' data-path='kH5ThuF1yIw' ></div>".split(";"), vplp_tracks_wall_icons=["<div class='playlistNonSelected' data-hook='fancybox-gallery1' data-link='http://vimeo.com/14665315' data-weblink='http://codecanyon.net/user/Tean' data-type='local' data-mp4='../media/video/1/wall/01.mp4' data-ogv='../media/video/1/wall/01.ogv' data-webm='../media/video/1/wall/01.webm' data-description='Sed at diam eu nisl feugiat tempor.'><div class='playlistThumb'><img class='thumb' src='../media/video/1/wall/01.jpg' alt=''/></div><div class='playlistInfo'><p><span class='playlistTitle'>A vimeo video from envato</span></p></div></div>", "<div class='playlistNonSelected' data-hook='fancybox-gallery1' data-link='http://vimeo.com/14665315' data-weblink='http://codecanyon.net/user/Tean' data-type='youtube_single' data-path='ytuM8-09R-I' ></div>"]; function videoPlayerSetupDone(k,n){if("popup_single"==n){if(hasLocalStorage&&localStorage.getItem("ap_single_track")){var m=localStorage.getItem("ap_single_track");k.destroyMedia();k.addTrack("html",m,!0)}}else if("no_playlist"==n)k.find(".chapter").css("cursor","pointer").on("click",function(m){m=$(m.currentTarget);m=parseInt(m.attr("data-time"),10);k.seek(m);return!1})}function videoPlayerPlaylistEnd(k,n){} function videoPlayerPlaylistLoaded(k,n){if("wall_clear2"==n){var m=k.getPlaylistData(),N=0,Ga=m.length,S,Ha,D;for(N;N<Ga;N++)S=m[N],S.item&&!S.item.data("has_wallInfo")&&(Ha=S.title,D=S.description,$('<div class="wallInfo"><span class="wallTitle">'+Ha+'</span><br><span class="wallContent">'+D+"</span></div>").appendTo(S.item),k.getSettings().useRemoveButtons&&($('<div class="wall_remove tooltip" data-aptitle="Remove"><i class="fa fa-times ap_wrem"></i></div>').data("par_ins",k).appendTo(S.item).css("cursor", "pointer").bind("click",function(){$(this).data("par_ins").removePlaylistItem($(this));return!1}),k.getSettings().tooltips.useTooltips&&S.item.find(".tooltip").tooltipster({onlyOne:!0,updateAnimation:!1,offsetY:3,speed:0})),S.item.data("has_wallInfo",!0));k.getPlaylist().find(".wallInfo").dotdotdot()}} function videoPlayerItemTriggered(k,n,m){if("wall"!=k.getSettings().playlistType)return!1;if(3==m||6==m)k=parseInt(m,10)+1,alert("This is a callback. You have clicked on video id: "+k+". You can run your own actions now!")}function videoPlayerVideoStart(k,n,m){"no_playlist"==n&&k.find(".ap_chapters").css("display","block")} function videoPlayerPlay(k,n,m){if("undefined"!==typeof hap_mediaArr&&hap_mediaArr.length)for(k=0,m=hap_mediaArr.length,k;k<m;k++)n!=hap_mediaArr[k].media_id&&hap_mediaArr[k].player_id.checkMedia("pause")}function videoPlayerPause(k,n,m){}function videoPlayerVideoEnd(k,n,m){}function playlistItemEnabled(k,n,m,N){}function playlistItemDisabled(k,n,m,N){}function playlistItemRollover(k,n,m,N){}function playlistItemRollout(k,n,m,N){}function playlistEmpty(k,n){} function fsEnter(k,n){$("#hap_drop").hide();$("#videoSearch").hide();$("#api_panel").hide();$(".toggle_panel").hide();$(".popup_toggle").hide()}function fsExit(k,n){$("#hap_drop").show();$("#videoSearch").show();"undefined"!==typeof api_panel_inited&&api_panel_inited&&($("#api_panel").show(),$(".toggle_panel").show());$(".popup_toggle").show()}function vplpCaptionChange(k,n,m){}function vplpQualityChange(k,n,m){}var hap_popup; function notify_popup(k){if(hap_popup&&void 0!=hap_popup.initPopup)try{if(void 0!=hap_popup.initPopup){var n=hap_player.getSettings();n.activePlaylist=hap_player.getActivePlaylist();var m=isIE?hap_player.getPlaylistList().clone(!0,!0).wrap("<p>").parent().html():hap_player.getPlaylistList().clone(!0,!0);"wall_popup"==k?hap_popup.initPopup(m,n):"list_popup"==k&&(n.activeItem=hap_player.getActiveItem(),hap_popup.initPopup(m,n))}}catch(N){return alert("parent notify_popup error: "+N.message),!1}} function open_popup(k,n){var m=k.popup_url,N=k.popup_width,Ga=k.popup_height,S=(window.screen.width-N)/2,Ha=(window.screen.height-Ga)/2;if(!hap_popup||hap_popup.closed){hap_popup=window.open(m,"hap_popup_window","menubar=no,toolbar=no,location=no,scrollbars=1,resizable,width="+N+",height="+Ga+",left="+S+",top="+Ha+"");if(!hap_popup)return alert("Player can not be opened in a popup window because your browser is blocking Pop-Ups. You need to allow Pop-Ups in browser for this site to use the Player."), !1;window.focus&&hap_popup.focus()}else void 0!=hap_popup.loadMedia&&hap_popup.loadMedia(n);return!1}function open_player(k,n){$("#mainWrapper").css("display","block");$(".popup_toggle").show();hap_player.getSettings().activeItem=n;hap_player.loadMedia(k)};